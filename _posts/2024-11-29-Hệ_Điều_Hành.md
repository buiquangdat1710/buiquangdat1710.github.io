---
title: "Há»‡ Äiá»u HÃ nh"
date: 2024-11-29 00:00:00  + 0800
categories: [MÃ´n há»c á»Ÿ PTIT]
tags: [ptit]
---
---

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            processEscapes: true
        }
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML-full"></script>


Há»‡ Ä‘iá»u hÃ nh (Operating System - OS) lÃ  pháº§n má»m há»‡ thá»‘ng quáº£n lÃ½ pháº§n cá»©ng vÃ  tÃ i nguyÃªn cá»§a mÃ¡y tÃ­nh, Ä‘á»“ng thá»i cung cáº¥p mÃ´i trÆ°á»ng cho cÃ¡c pháº§n má»m á»©ng dá»¥ng hoáº¡t Ä‘á»™ng. NÃ³ Ä‘Ã³ng vai trÃ² trung gian giá»¯a ngÆ°á»i dÃ¹ng vÃ  pháº§n cá»©ng, thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng nhÆ° quáº£n lÃ½ bá»™ nhá»›, xá»­ lÃ½, lÆ°u trá»¯, thiáº¿t bá»‹ ngoáº¡i vi vÃ  cung cáº¥p giao diá»‡n ngÆ°á»i dÃ¹ng. VÃ­ dá»¥ vá» há»‡ Ä‘iá»u hÃ nh bao gá»“m Windows, macOS, Linux, vÃ  Android.


# ChÆ°Æ¡ng 1: Giá»›i thiá»‡u chung

## I. CÃ¡c thÃ nh pháº§n cá»§a há»‡ thá»‘ng mÃ¡y tÃ­nh


Má»™t há»‡ thá»‘ng mÃ¡y tÃ­nh nÃ³i chung Ä‘Æ°á»£c phÃ¢n chia thÃ nh **pháº§n cá»©ng** vÃ  **pháº§n má»m.**


![anh](./image/44.png)


**Pháº§n cá»©ng:** Cung cáº¥p cÃ¡c tÃ i nguyÃªn cáº§n thiáº¿t cho viá»‡c tÃ­nh toÃ¡n, xá»­ lÃ½ dá»¯ liá»‡u.

**Pháº§n má»m:** CÃ¡c chÆ°Æ¡ng trÃ¬nh cá»¥ thá»ƒ (pháº§n má»m há»‡ thá»‘ng vÃ  pháº§n má»m á»©ng dá»¥ng).

**Há»‡ Ä‘iá»u hÃ nh:** Pháº§n má»m Ä‘Ã³ng vai trÃ² trung gian giá»¯a pháº§n cá»©ng vÃ  ngÆ°á»i sá»­ dá»¥ng chÆ°Æ¡ng trÃ¬nh á»©ng dá»¥ng, lÃ m cho viá»‡c sá»­ dá»¥ng há»‡ thá»‘ng mÃ¡y tÃ­nh Ä‘Æ°á»£c tiá»‡n lá»£i vÃ  hiá»‡u quáº£.

![anh](./image/43.png)

## II. KhÃ¡i niá»‡m há»‡ Ä‘iá»u hÃ nh

**Há»‡ Äiá»u HÃ nh** Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a thÃ´ng qua má»¥c Ä‘Ã­ch, vai trÃ², vÃ  chá»©c nÄƒng trong há»‡ thá»‘ng mÃ¡y tÃ­nh

**Há»‡ Äiá»u HÃ nh** lÃ  há»‡ thá»‘ng pháº§n má»m Ä‘Ã³ng vai trÃ² trung gian giá»¯a ngÆ°á»i sá»­ dá»¥ng vÃ  pháº§n cá»©ng cá»§a mÃ¡y tÃ­nh nháº±m thá»±c hiá»‡n 2 chá»©c nÄƒng cÆ¡ báº£n:
- Quáº£n lÃ½ tÃ i nguyÃªn.
- Quáº£n lÃ½ viá»‡c thá»±c hiá»‡n cÃ¡c chÆ°Æ¡ng trÃ¬nh.

### Quáº£n lÃ½ tÃ i nguyÃªn

Há»‡ Ä‘iá»u hÃ nh Ä‘áº£m báº£o cho tÃ i nguyÃªn há»‡ thá»‘ng Ä‘Æ°á»£c sá»­ dá»¥ng má»™t cÃ¡ch cÃ³ Ã­ch vÃ  hiá»‡u quáº£.

**CÃ¡c tÃ i nguyÃªn:** bá»™ xá»­ lÃ½ (CPU), bá»™ nhá»› chÃ­nh, bá»™ nhá»› ngoÃ i (cÃ¡c Ä‘Ä©a), cÃ¡c thiáº¿t bá»‹ vÃ o ra.

PhÃ¢n phá»‘i tÃ i nguyÃªn cho cÃ¡c á»©ng dá»¥ng hiá»‡u quáº£:
- YÃªu cáº§u tÃ i nguyÃªn Ä‘Æ°á»£c HDH thu nháº­n vÃ  Ä‘Ã¡p á»©ng báº±ng cÃ¡ch cáº¥p cho chÆ°Æ¡ng trÃ¬nh cÃ¡c tÃ i nguyÃªn tÆ°Æ¡ng á»©ng.
- HDH cáº§n lÆ°u trá»¯ tÃ¬nh tráº¡ng tÃ i nguyÃªn.

Äáº£m báº£o khÃ´ng xÃ¢m pháº¡m tÃ i nguyÃªn cáº¥p cho chÆ°Æ¡ng trÃ¬nh khÃ¡c.

**VÃ­ dá»¥:** LÆ°u trá»¯ thÃ´ng tin trÃªn Ä‘Ä©a => HDH cáº§n biáº¿t nhá»¯ng vÃ¹ng nÃ o trÃªn Ä‘Ä©a chÆ°a Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ ghi thÃ´ng tin lÃªn nhá»¯ng vÃ¹ng nÃ y. Viá»‡c ghi thÃ´ng tin cÅ©ng cáº§n tÃ­nh toÃ¡n sao cho quÃ¡ trÃ¬nh truy cáº­p khi cáº§n cÃ³ thá»ƒ thá»±c hiá»‡n nhanh nháº¥t.

### Quáº£n lÃ½ viá»‡c thá»±c hiá»‡n cÃ¡c chÆ°Æ¡ng trÃ¬nh

Nhiá»‡m vá»¥ quan trá»ng nháº¥t cá»§a mÃ¡y tÃ­nh lÃ  thá»±c hiá»‡n cÃ¡c chÆ°Æ¡ng trÃ¬nh, 1 chÆ°Æ¡ng trÃ¬nh Ä‘ang trong quÃ¡ trÃ¬nh cháº¡y gá»i lÃ  `tiáº¿n trÃ¬nh (process)`.

ChÆ°Æ¡ng trÃ¬nh cáº§n Ä‘Æ°á»£c quáº£n lÃ½ Ä‘á»ƒ thá»±c hiá»‡n thuáº­n lá»£i, trÃ¡nh lá»—i, Ä‘á»“ng thá»i Ä‘áº£m báº£o mÃ´i trÆ°á»ng Ä‘á»ƒ viá»‡c xÃ¢y dá»±ng vÃ  thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c thuáº­n lá»£i.

Äá»ƒ cháº¡y chÆ°Æ¡ng trÃ¬nh cáº§n thá»±c hiá»‡n má»™t sá»‘ thao tÃ¡c nháº¥t Ä‘á»‹nh => HÄH giÃºp viá»‡c cháº¡y chÆ°Æ¡ng trÃ¬nh dá»… dÃ ng hÆ¡n, ngÆ°á»i dÃ¹ng khÃ´ng cáº§n pháº£i thá»±c hiá»‡n thao tÃ¡c.

Äá»ƒ táº¡o mÃ´i trÆ°á»ng thuáº­n lá»£i cho chÆ°Æ¡ng trÃ¬nh, HÄH táº¡o ra cÃ¡c mÃ¡y áº£o:
- LÃ  mÃ¡y logic vá»›i cÃ¡c tÃ i nguyÃªn áº£o
- TÃ i nguyÃªn áº£o mÃ´ phá»ng tÃ i nguyÃªn thá»±c Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng pháº§n má»m
- Cung cáº¥p cÃ¡c dá»‹ch vá»¥ cÆ¡ báº£n nhÆ° tÃ i nguyÃªn thá»±c
- Dá»… sá»­ dá»¥ng hÆ¡n, sá»‘ lÆ°á»£ng tÃ i nguyÃªn áº£o cÃ³ thá»ƒ lá»›n hÆ¡n sá»‘ lÆ°á»£ng tÃ i nguyÃªn thá»±c.

Má»™t sá»‘ mÃ¡y áº£o tá»‘t nháº¥t hiá»‡n nay: VirtualBox (Windows/Mac/Linux); Parallels (Windows/Mac/Linux); VMware(Windows/Linux, Basic); QEMU (Linux); Boot Camp (Windows/macOS); Windows Virtual PC (Windows).

![anh](./image/hypervisor.jpeg)


### CÃ¢u há»i Ã´n táº­p

#### TrÃ¬nh bÃ y vá» cÃ¡c thÃ nh pháº§n cá»§a há»‡ thá»‘ng mÃ¡y tÃ­nh vÃ  vai trÃ² cá»§a há»‡ Ä‘iá»u hÃ nh trong Ä‘Ã³.


<details>
  <summary style="display: inline-block; padding: 6px 12px; font-size: 14px; font-weight: 400; line-height: 1.5; color: var(--button-text-color, #fff); background-color: var(--button-bg-color, #28a745); border: 1px solid transparent; border-radius: 4px; cursor: pointer;">Xem Ä‘Ã¡p Ã¡n</summary>
  <div style="margin-top: 10px; padding: 10px; background-color: var(--answer-bg-color, #e9f7ef); border-left: 5px solid var(--answer-border-color, #28a745); color: var(--answer-text-color, #000);">
    <p> <strong>ğŸ’» ÄÃ¡p Ã¡n: </strong> 
    <br>
    CÃ¡c thÃ nh pháº§n cá»§a há»‡ thá»‘ng mÃ¡y tÃ­nh vÃ  vai trÃ² cá»§a há»‡ Ä‘iá»u hÃ nh:
    <ul>
    <li><strong>Pháº§n cá»©ng:</strong> ÄÃ¢y lÃ  cÃ¡c tÃ i nguyÃªn váº­t lÃ½ cáº§n thiáº¿t cho viá»‡c tÃ­nh toÃ¡n vÃ  xá»­ lÃ½ dá»¯ liá»‡u, bao gá»“m CPU, bá»™ nhá»›, vÃ  cÃ¡c thiáº¿t bá»‹ ngoáº¡i vi. </li>
    <li><strong>Pháº§n má»m:</strong>  Bao gá»“m cÃ¡c chÆ°Æ¡ng trÃ¬nh cá»¥ thá»ƒ, Ä‘Æ°á»£c chia thÃ nh pháº§n má»m há»‡ thá»‘ng vÃ  pháº§n má»m á»©ng dá»¥ng.</li>
    <li><strong>Há»‡ Ä‘iá»u hÃ nh:</strong>  ÄÃ³ng vai trÃ² trung gian giá»¯a pháº§n cá»©ng vÃ  ngÆ°á»i sá»­ dá»¥ng chÆ°Æ¡ng trÃ¬nh á»©ng dá»¥ng. NÃ³ giÃºp viá»‡c sá»­ dá»¥ng há»‡ thá»‘ng mÃ¡y tÃ­nh trá»Ÿ nÃªn tiá»‡n lá»£i vÃ  hiá»‡u quáº£ hÆ¡n. Há»‡ Ä‘iá»u hÃ nh quáº£n lÃ½ tÃ i nguyÃªn vÃ  cung cáº¥p mÃ´i trÆ°á»ng cho cÃ¡c pháº§n má»m á»©ng dá»¥ng hoáº¡t Ä‘á»™ng.</li>
    </ul>
    </p>
  </div>
</details>


#### TrÃ¬nh bÃ y khÃ¡i niá»‡m há»‡ Ä‘iá»u hÃ nh. PhÃ¢n tÃ­ch rÃµ hai chá»©c nÄƒng cÆ¡ báº£n cá»§a há»‡ Ä‘iá»u hÃ nh.


<details>
  <summary style="display: inline-block; padding: 6px 12px; font-size: 14px; font-weight: 400; line-height: 1.5; color: var(--button-text-color, #fff); background-color: var(--button-bg-color, #28a745); border: 1px solid transparent; border-radius: 4px; cursor: pointer;">Xem Ä‘Ã¡p Ã¡n</summary>
  <div style="margin-top: 10px; padding: 10px; background-color: var(--answer-bg-color, #e9f7ef); border-left: 5px solid var(--answer-border-color, #28a745); color: var(--answer-text-color, #000);">
    <p> <strong>ğŸ’» ÄÃ¡p Ã¡n: </strong> 
    <br>
    KhÃ¡i niá»‡m há»‡ Ä‘iá»u hÃ nh vÃ  hai chá»©c nÄƒng cÆ¡ báº£n:
    <ul>
    <li><strong>KhÃ¡i niá»‡m:</strong> Há»‡ Ä‘iá»u hÃ nh lÃ  há»‡ thá»‘ng pháº§n má»m Ä‘Ã³ng vai trÃ² trung gian giá»¯a ngÆ°á»i sá»­ dá»¥ng vÃ  pháº§n cá»©ng cá»§a mÃ¡y tÃ­nh. NÃ³ thá»±c hiá»‡n hai chá»©c nÄƒng cÆ¡ báº£n lÃ  quáº£n lÃ½ tÃ i nguyÃªn vÃ  quáº£n lÃ½ viá»‡c thá»±c hiá»‡n cÃ¡c chÆ°Æ¡ng trÃ¬nh.</li>
    <li><strong>Quáº£n lÃ½ tÃ i nguyÃªn:</strong> Há»‡ Ä‘iá»u hÃ nh Ä‘áº£m báº£o ráº±ng cÃ¡c tÃ i nguyÃªn há»‡ thá»‘ng nhÆ° CPU, bá»™ nhá»› chÃ­nh, bá»™ nhá»› ngoÃ i, vÃ  cÃ¡c thiáº¿t bá»‹ vÃ o ra Ä‘Æ°á»£c sá»­ dá»¥ng má»™t cÃ¡ch hiá»‡u quáº£. NÃ³ phÃ¢n phá»‘i tÃ i nguyÃªn cho cÃ¡c á»©ng dá»¥ng, lÆ°u trá»¯ tÃ¬nh tráº¡ng tÃ i nguyÃªn, vÃ  Ä‘áº£m báº£o khÃ´ng cÃ³ sá»± xÃ¢m pháº¡m tÃ i nguyÃªn giá»¯a cÃ¡c chÆ°Æ¡ng trÃ¬nh.</li>
    <li><strong>Quáº£n lÃ½ viá»‡c thá»±c hiá»‡n cÃ¡c chÆ°Æ¡ng trÃ¬nh:</strong> Há»‡ Ä‘iá»u hÃ nh giÃºp quáº£n lÃ½ cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘ang cháº¡y (tiáº¿n trÃ¬nh) Ä‘á»ƒ Ä‘áº£m báº£o chÃºng hoáº¡t Ä‘á»™ng thuáº­n lá»£i vÃ  trÃ¡nh lá»—i. NÃ³ táº¡o ra cÃ¡c mÃ¡y áº£o Ä‘á»ƒ cung cáº¥p mÃ´i trÆ°á»ng thuáº­n lá»£i cho viá»‡c xÃ¢y dá»±ng vÃ  thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh, giÃºp ngÆ°á»i dÃ¹ng khÃ´ng cáº§n thá»±c hiá»‡n cÃ¡c thao tÃ¡c phá»©c táº¡p khi cháº¡y chÆ°Æ¡ng trÃ¬nh. MÃ¡y áº£o cung cáº¥p cÃ¡c tÃ i nguyÃªn áº£o mÃ´ phá»ng tÃ i nguyÃªn thá»±c, dá»… sá»­ dá»¥ng vÃ  cÃ³ thá»ƒ cÃ³ sá»‘ lÆ°á»£ng lá»›n hÆ¡n tÃ i nguyÃªn thá»±c.</li>
    </ul>
    </p>
  </div>
</details>



## III. CÃ¡c dá»‹ch vá»¥ do há»‡ Ä‘iá»u hÃ nh cung cáº¥p

Má»™t trong nhá»¯ng nhiá»‡m vá»¥ chá»§ yáº¿u cá»§a HDH lÃ  táº¡o ra mÃ´i trÆ°á»ng thuáº­n lá»£i cho cÃ¡c chÆ°Æ¡ng trÃ¬nh khÃ¡c thá»±c hiá»‡n vÃ  giÃºp ngÆ°á»i sá»­ dá»¥ng há»‡ thá»‘ng dá»… dÃ ng.

CÃ¡c dá»‹ch vá»¥ cÃ³ thá»ƒ thay Ä‘á»•i theo tá»«ng HDH. Má»™t sá»‘ HDH cÃ³ thá»ƒ cung cáº¥p nhiá»u dá»‹ch vá»¥ khi há»‡ Ä‘iá»u hÃ nh khÃ¡c cÃ³ thá»ƒ cung cáº¥p Ã­t dá»‹ch vá»¥ hÆ¡n.

VÃ­ dá»¥ nhÆ° MS-DOS khÃ´ng cung cáº¥p dá»‹ch vá»¥ vá» báº£o máº­t trong khi Windows NT láº¡i ráº¥t chÃº trá»ng tá»›i dá»‹ch vá»¥ nÃ y.

Má»™t sá»‘ dá»‹ch vá»¥ thÆ°á»ng gáº·p cá»§a há»‡ Ä‘iá»u hÃ nh:

- **Táº£i vÃ  cháº¡y chÆ°Æ¡ng trÃ¬nh:**
  - Äá»ƒ thá»±c hiá»‡n, chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c táº£i tá»« Ä‘Ä©a vÃ o bá»™ nhá»›, sau Ä‘Ã³ Ä‘Æ°á»£c trao quyá»n thá»±c hiá»‡n cÃ¡c lá»‡nh. Khi thá»±c hiá»‡n xong, cáº§n giáº£i phÃ³ng bá»™ nhá»› vÃ  cÃ¡c tÃ i nguyÃªn
  - ToÃ n bá»™ quÃ¡ trÃ¬nh nÃ y tÆ°Æ¡ng Ä‘á»‘i phá»©c táº¡p song láº¡i diá»…n ra thÆ°á»ng
  xuyÃªn.

  => HDH sáº½ thá»±c hiá»‡n cÃ´ng viá»‡c phá»©c táº¡p vÃ  láº·p Ä‘i láº·p láº¡i nÃ y
  - Do HDH lÃ  chÆ°Æ¡ng trÃ¬nh Ä‘áº§u tiÃªn Ä‘Æ°á»£c thá»±c hiá»‡n khi khá»Ÿi Ä‘á»™ng
  há»‡ thá»‘ng nÃªn HDH tá»± táº£i mÃ¬nh vÃ o bá»™ nhá»›
  - Nhá» cÃ³ HÄH, láº­p trÃ¬nh viÃªn, ngÆ°á»i sá»­ dá»¥ng khÃ´ng cáº§n quan tÃ¢m
  chi tiáº¿t Ä‘áº¿n viá»‡c táº£i vÃ  cháº¡y chÆ°Æ¡ng trÃ¬nh.

- **Giao diá»‡n vá»›i ngÆ°á»i dÃ¹ng (cho phÃ©p giao tiáº¿p giá»¯a HDH vÃ  ngÆ°á»i dÃ¹ng):**
  - **DÆ°á»›i dáº¡ng dÃ²ng lá»‡nh (command-line):** cho phÃ©p ngÆ°á»i dÃ¹ng chá»‰ thá»‹ cho HÄH báº±ng cÃ¡ch gÃµ lá»‡nh dÆ°á»›i dáº¡ng vÄƒn báº£n. VÃ­ dá»¥: chtr cmd.exe cá»§a Windows.
  - **Giao diá»‡n Ä‘á»“ há»a (Graphic User Interface-GUI):** sá»­ dá»±ng há»‡ thá»‘ng cá»­a sá»•, thá»±c Ä‘Æ¡n vÃ  thiáº¿t bá»‹ trá» chuá»™t, káº¿t há»£p vá»›i bÃ n phÃ­m Ä‘á»ƒ giao tiáº¿p vá»›i há»‡ thá»‘ng.


- **Thá»±c hiá»‡n cÃ¡c thao tÃ¡c vÃ o/ ra dá»¯ liá»‡u:**
  - NgÆ°á»i dÃ¹ng vÃ  chÆ°Æ¡ng trÃ¬nh trong khi thá»±c hiá»‡n cÃ³ thá»ƒ cÃ³ nhu cáº§u I/O dá»¯ liá»‡u vá»›i cÃ¡c Ä‘Ä©a vÃ  thiáº¿t bá»‹ ngoáº¡i vi. Äá»ƒ trÃ¡nh cho chÆ°Æ¡ng trÃ¬nh khÃ´ng pháº£i lÃ m viá»‡c vá»›i pháº§n cá»©ng, yÃªu cáº§u I/O sáº½ Ä‘Æ°á»£c giao cho há»‡ Ä‘iá»u hÃ nh thá»±c hiá»‡n.

- **LÃ m viá»‡c vá»›i há»‡ thá»‘ng file:** 
  - Nhu cáº§u Ä‘á»c, ghi, táº¡o, xÃ³a, chÃ©p file hoáº·c lÃ m viá»‡c vá»›i thÆ° má»¥c; quáº£n lÃ½ quyá»n truy cáº­p, sao
  lÆ°u. 


- **PhÃ¡t hiá»‡n vÃ  xá»­ lÃ½ lá»—i:**
  - PhÃ¡t hiá»‡n vÃ  xá»­ lÃ½ ká»‹p thá»i cÃ¡c lá»—i xuáº¥t hiá»‡n trong pháº§n cá»©ng cÅ©ng nhÆ° pháº§n má»m
  => Äáº£m báº£o cho há»‡ thá»‘ng hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh, an toÃ n
  - VÃ­ dá»¥: cÃ¡c lá»—i pháº§n cá»©ng nhÆ° háº¿t bá»™ nhá»›, máº¥t Ä‘iá»‡n, mÃ¡y in háº¿t má»±c, háº¿t giáº¥y,..

- **Truyá»n thÃ´ng:**
  - Cung cáº¥p dá»‹ch vá»¥ cho phÃ©p thiáº¿t láº­p liÃªn láº¡c vÃ  truyá»n thÃ´ng tin dÆ°á»›i dáº¡ng thÃ´ng Ä‘iá»‡p hoáº·c qua BN dÃ¹ng chung.

- **Cáº¥p phÃ¡t tÃ i nguyÃªn:**
  - Trong cÃ¡c há»‡ thá»‘ng cho phÃ©p nhiá»u chÆ°Æ¡ng trÃ¬nh thá»±c hiá»‡n Ä‘á»“ng thá»i cáº§n cÃ³ cÆ¡ cháº¿ cáº¥p phÃ¡t vÃ  phÃ¢n phá»‘i tÃ i nguyÃªn há»£p lÃ½ => nhá» cÃ³ HÄH, ngÆ°á»i dÃ¹ng vÃ  trÃ¬nh á»©ng dá»¥ng khÃ´ng pháº£i tá»± thá»±c hiá»‡n viá»‡c cáº¥p phÃ¡t tÃ i nguyÃªn mÃ  váº«n Ä‘áº£m báº£o cáº¥p phÃ¡t cÃ´ng báº±ng vÃ  hiá»‡u quáº£.


- **Dá»‹ch vá»¥ an ninh vÃ  báº£o máº­t:**
  - Äá»‘i vá»›i há»‡ thá»‘ng nhiá»u ngÆ°á»i dÃ¹ng thÆ°á»ng xuáº¥t hiá»‡n yÃªu cáº§u báº£o máº­t thÃ´ng tin, tá»©c lÃ  ngÆ°á»i dÃ¹ng nÃ y khÃ´ng tiáº¿p cáº­n Ä‘Æ°á»£c thÃ´ng tin cá»§a ngÆ°á»i khÃ¡c náº¿u khÃ´ng Ä‘Æ°á»£c cho phÃ©p.
  - Cáº§n Ä‘áº£m báº£o Ä‘á»ƒ tiáº¿n trÃ¬nh khÃ´ng truy cáº­p trÃ¡i phÃ©p tÃ i nguyÃªn (nhÆ° vÃ¹ng nhá»›, file má»Ÿ) cá»§a tiáº¿n trÃ¬nh khÃ¡c hay chÃ­nh HDH sáº½ thá»±c hiá»‡n báº±ng cÃ¡ch kiá»ƒm soÃ¡t truy cáº¥p tá»›i tÃ i nguyÃªn

### CÃ¢u há»i Ã´n táº­p

#### Dá»±a trÃªn Ä‘á»‹nh nghÄ©a há»‡ Ä‘iá»u hÃ nh, hÃ£y cho biáº¿t trÃ¬nh duyá»‡t Web cÃ³ thá»ƒ lÃ  má»™t thÃ nh pháº§n cá»§a há»‡ Ä‘iá»u hÃ nh khÃ´ng ? 


<details>
  <summary style="display: inline-block; padding: 6px 12px; font-size: 14px; font-weight: 400; line-height: 1.5; color: var(--button-text-color, #fff); background-color: var(--button-bg-color, #28a745); border: 1px solid transparent; border-radius: 4px; cursor: pointer;">Xem Ä‘Ã¡p Ã¡n</summary>
  <div style="margin-top: 10px; padding: 10px; background-color: var(--answer-bg-color, #e9f7ef); border-left: 5px solid var(--answer-border-color, #28a745); color: var(--answer-text-color, #000);">
    <p><strong>ğŸ’» ÄÃ¡p Ã¡n:</strong></p>
    <p>Dá»±a trÃªn Ä‘á»‹nh nghÄ©a cá»§a há»‡ Ä‘iá»u hÃ nh, trÃ¬nh duyá»‡t web khÃ´ng pháº£i lÃ  má»™t thÃ nh pháº§n cá»§a há»‡ Ä‘iá»u hÃ nh. Há»‡ Ä‘iá»u hÃ nh lÃ  pháº§n má»m há»‡ thá»‘ng quáº£n lÃ½ pháº§n cá»©ng vÃ  tÃ i nguyÃªn cá»§a mÃ¡y tÃ­nh, Ä‘á»“ng thá»i cung cáº¥p mÃ´i trÆ°á»ng cho cÃ¡c pháº§n má»m á»©ng dá»¥ng hoáº¡t Ä‘á»™ng. NÃ³ thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng nhÆ° quáº£n lÃ½ bá»™ nhá»›, xá»­ lÃ½, lÆ°u trá»¯, thiáº¿t bá»‹ ngoáº¡i vi vÃ  cung cáº¥p giao diá»‡n ngÆ°á»i dÃ¹ng.</p>
    <p>TrÃ¬nh duyá»‡t web, ngÆ°á»£c láº¡i, lÃ  má»™t pháº§n má»m á»©ng dá»¥ng cháº¡y trÃªn há»‡ Ä‘iá»u hÃ nh. NÃ³ cho phÃ©p ngÆ°á»i dÃ¹ng truy cáº­p vÃ  tÆ°Æ¡ng tÃ¡c vá»›i ná»™i dung trÃªn internet. Máº·c dÃ¹ trÃ¬nh duyá»‡t web cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ­ch há»£p sÃ¢u vÃ o há»‡ Ä‘iá»u hÃ nh (nhÆ° Internet Explorer trong cÃ¡c phiÃªn báº£n Windows trÆ°á»›c Ä‘Ã¢y), nÃ³ váº«n khÃ´ng thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng quáº£n lÃ½ tÃ i nguyÃªn há»‡ thá»‘ng nhÆ° má»™t há»‡ Ä‘iá»u hÃ nh thá»±c thá»¥. Thay vÃ o Ä‘Ã³, nÃ³ phá»¥ thuá»™c vÃ o há»‡ Ä‘iá»u hÃ nh Ä‘á»ƒ truy cáº­p tÃ i nguyÃªn pháº§n cá»©ng vÃ  thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ cÆ¡ báº£n.</p>
  </div>
</details>


#### CÃ³ pháº£i báº¥t ká»³ há»‡ thá»‘ng mÃ¡y tÃ­nh nÃ o cÅ©ng cÃ³ há»‡ Ä‘iá»u hÃ nh khÃ´ng ? Táº¡i sao ? á» Ä‘Ã¢y, há»‡ thá»‘ng mÃ¡y tÃ­nh Ä‘Æ°á»£c hiá»ƒu rá»™ng lÃ  báº¥t cá»© há»‡ thá»‘ng nÃ o cÃ³ vi xá»­ lÃ½ vÃ  bá»™ nhá»›

<details>
  <summary style="display: inline-block; padding: 6px 12px; font-size: 14px; font-weight: 400; line-height: 1.5; color: var(--button-text-color, #fff); background-color: var(--button-bg-color, #28a745); border: 1px solid transparent; border-radius: 4px; cursor: pointer;">Xem Ä‘Ã¡p Ã¡n</summary>
  <div style="margin-top: 10px; padding: 10px; background-color: var(--answer-bg-color, #e9f7ef); border-left: 5px solid var(--answer-border-color, #28a745); color: var(--answer-text-color, #000);">
    <p><strong>ğŸ’» ÄÃ¡p Ã¡n:</strong></p>
    <p>KhÃ´ng pháº£i báº¥t ká»³ há»‡ thá»‘ng mÃ¡y tÃ­nh nÃ o cÅ©ng cÃ³ há»‡ Ä‘iá»u hÃ nh. Há»‡ Ä‘iá»u hÃ nh lÃ  pháº§n má»m há»‡ thá»‘ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ quáº£n lÃ½ pháº§n cá»©ng vÃ  tÃ i nguyÃªn cá»§a mÃ¡y tÃ­nh, Ä‘á»“ng thá»i cung cáº¥p mÃ´i trÆ°á»ng cho cÃ¡c pháº§n má»m á»©ng dá»¥ng hoáº¡t Ä‘á»™ng. Tuy nhiÃªn, cÃ³ nhá»¯ng há»‡ thá»‘ng mÃ¡y tÃ­nh Ä‘Æ¡n giáº£n hoáº·c chuyÃªn dá»¥ng khÃ´ng cáº§n Ä‘áº¿n há»‡ Ä‘iá»u hÃ nh.</p>
    <p>VÃ­ dá»¥, cÃ¡c thiáº¿t bá»‹ nhÃºng nhÆ° lÃ² vi sÃ³ng, mÃ¡y giáº·t, hoáº·c cÃ¡c thiáº¿t bá»‹ IoT (Internet of Things) thÆ°á»ng cÃ³ vi xá»­ lÃ½ vÃ  bá»™ nhá»› nhÆ°ng khÃ´ng sá»­ dá»¥ng há»‡ Ä‘iá»u hÃ nh phá»©c táº¡p nhÆ° mÃ¡y tÃ­nh cÃ¡ nhÃ¢n. Thay vÃ o Ä‘Ã³, chÃºng cháº¡y cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘Æ¡n giáº£n Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘áº·c biá»‡t cho nhiá»‡m vá»¥ cá»§a chÃºng.</p>
    <p>Trong nhá»¯ng trÆ°á»ng há»£p nÃ y, pháº§n má»m Ä‘Æ°á»£c viáº¿t trá»±c tiáº¿p Ä‘á»ƒ Ä‘iá»u khiá»ƒn pháº§n cá»©ng mÃ  khÃ´ng cáº§n má»™t lá»›p trung gian nhÆ° há»‡ Ä‘iá»u hÃ nh. Äiá»u nÃ y giÃºp giáº£m chi phÃ­ vÃ  tÄƒng hiá»‡u suáº¥t cho cÃ¡c thiáº¿t bá»‹ cÃ³ tÃ i nguyÃªn háº¡n cháº¿.</p>
  </div>
</details>


## IV. Giao diá»‡n láº­p trÃ¬nh cá»§a HDH

Äá»ƒ cÃ¡c chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c nhá»¯ng dá»‹ch vá»¥, HDH cung cáº¥p giao diá»‡n láº­p trÃ¬nh.

Giao diá»‡n nÃ y bao gá»“m cÃ¡c lá»i gá»i há»‡ thá»‘ng (system call) mÃ  chÆ°Æ¡ng trÃ¬nh sá»­ dá»¥ng yÃªu cáº§u má»™t dá»‹ch vá»¥ nÃ o Ä‘Ã³ tá»« phÃ­a HDH.

Lá»i gá»i há»‡ thá»‘ng: cÃ¡c lá»‡nh Ä‘áº·c biá»‡t mÃ  CTUD gá»i khi cáº§n yÃªu cáº§u HDH thá»±c hiá»‡n má»™t viá»‡c gÃ¬ Ä‘Ã³

Lá»i gá»i há»‡ thá»‘ng Ä‘Æ°á»£c thá»±c hiá»‡n qua nhá»¯ng thÆ° viá»‡n hÃ m gá»i lÃ  thÆ° viá»‡n há»‡ thá»‘ng. CÃ¡c hÃ m nÃ y sáº½ giÃºp ngÆ°á»i láº­p trÃ¬nh gá»i lá»i gá»i há»‡ thá»‘ng tÆ°Æ¡ng á»©ng cá»§a há»‡ Ä‘iá»u hÃ nh

![anh](./image/45.png)


## V. QuÃ¡ trÃ¬nh phÃ¡t triá»ƒn


![anh](./image/evolution-of-the-windows-operating-system.webp)

CÃ¡c há»‡ thá»‘ng Ä‘Æ¡n giáº£n (nhá»¯ng nÄƒm 40-50 cá»§a tháº¿ ká»· trÆ°á»›c): tá»‘c Ä‘á»™ xá»­ lÃ½ cá»§a mÃ¡y tÃ­nh ráº¥t tháº¥p, viá»‡c vÃ o/ra Ä‘Æ°á»£c thá»±c hiá»‡n thá»§ cÃ´ng vÃ  khÃ³ khÄƒn.

Viá»‡c náº¡p chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c thá»±c hiá»‡n nhá» cÃ´ng táº¯c, máº¡ch hÃ n sáºµn, bÃ¬a Ä‘á»¥c lá»—. Trong thá»i ká»³ nÃ y, láº­p trÃ¬nh viÃªn tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p vá»›i pháº§n cá»©ng.

=> MÃ¡y tÃ­nh thá»i ká»³ nÃ y chÆ°a cÃ³ HDH.


Xá»­ lÃ½ theo máº»:

- ChÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c phÃ¢n thÃ nh cÃ¡c máº»: gá»“m nhá»¯ng chÆ°Æ¡ng trÃ¬nh cÃ³ yÃªu cáº§u giá»‘ng nhau
- ToÃ n bá»™ máº» Ä‘Æ°á»£c náº¡p vÃ o bÄƒng tá»« vÃ  Ä‘Æ°á»£c táº£i vÃ o mÃ¡y Ä‘á»ƒ thá»±c hiá»‡n láº§n lÆ°á»£t

**ChÆ°Æ¡ng trÃ¬nh giÃ¡m sÃ¡t (monitor):** má»—i khi má»™t chÆ°Æ¡ng trÃ¬nh cá»§a máº» káº¿t thÃºc, chÆ°Æ¡ng trÃ¬nh giÃ¡m sÃ¡t tá»± Ä‘á»™ng náº¡p chÆ°Æ¡ng trÃ¬nh tiáº¿p theo vÃ o mÃ¡y vÃ  cho phÃ©p nÃ³ cháº¡y => Giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian chuyá»ƒn Ä‘á»•i giá»¯a hai chÆ°Æ¡ng trÃ¬nh trong cÃ¹ng má»™t máº».


![anh](./image/46.png)


TrÃ¬nh giÃ¡m sÃ¡t lÃ  dáº¡ng Ä‘Æ¡n giáº£n nháº¥t cá»§a HDH

Æ¯u Ä‘iá»ƒm: tÄƒng vÃ  táº­n dá»¥ng háº¿t cÃ´ng suáº¥t mÃ¡y, giáº£m thá»i gian chá» Ä‘á»£i cÃ ng nhiá»u cÃ ng tá»‘t.


Äa chÆ°Æ¡ng trÃ¬nh (Ä‘a nhiá»‡m):
- Há»‡ thá»‘ng chá»©a Ä‘á»“ng thá»i nhiá»u chÆ°Æ¡ng trÃ¬nh trong bá»™ nhá»›.
- Khi má»™t chÆ°Æ¡ng trÃ¬nh pháº£i dá»«ng láº¡i Ä‘á»ƒ thá»±c hiá»‡n vÃ o ra, HDH sáº½ chuyá»ƒn CPU sang thá»±c hiá»‡n má»™t chÆ°Æ¡ng trÃ¬nh khÃ¡c.

=> Giáº£m thá»i gian cháº¡y khÃ´ng táº£i cá»§a CPU.

![anh](./image/47.png)

### Äa chÆ°Æ¡ng trÃ¬nh


![anh](./image/48.png)

- Thá»i gian chá» Ä‘á»£i cá»§a CPU trong cháº¿ Ä‘á»™ Ä‘a chÆ°Æ¡ng trÃ¬nh giáº£m Ä‘Ã¡ng ká»ƒ so vá»›i trong trÆ°á»ng há»£p Ä‘Æ¡n chÆ°Æ¡ng trÃ¬nh.

- HDH phá»©c táº¡p hÆ¡n ráº¥t nhiá»u so vá»›i HDH Ä‘Æ¡n chÆ°Æ¡ng trÃ¬nh.

- ÄÃ²i há»i há»— trá»£ tá»« pháº§n cá»©ng, Ä‘áº·c biá»‡t kháº£ nÄƒng vÃ o/ra báº±ng ngáº¯t vÃ  cÆ¡ cháº¿ DMA.

### Äa chÆ°Æ¡ng trÃ¬nh (Háº¡n cháº¿)

- Máº·c dÃ¹ Ä‘a chÆ°Æ¡ng trÃ¬nh cho phÃ©p sá»­ dá»¥ng hiá»‡u quáº£ CPU vÃ  cÃ¡c tÃ i nguyÃªn khÃ¡c cá»§a há»‡ thá»‘ng song ká»¹ thuáº­t nÃ y khÃ´ng cho ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c vá»›i há»‡ thá»‘ng.
- CÃ¡c mÃ¡y tÃ­nh tháº¿ há»‡ sau cho phÃ©p mÃ¡y tÃ­nh vÃ  ngÆ°á»i dÃ¹ng lÃ m viá»‡c trá»±c tiáº¿p thÃ´ng quan mÃ n hÃ¬nh vÃ  bÃ n phÃ­m.
- Äá»‘i vá»›i cÃ¡c há»‡ thá»‘ng nÃ y thÃ¬ thá»i gian tá»« khi ngÆ°á»i dÃ¹ng gÃµ lá»‡nh cho tá»›i khi mÃ¡y tÃ­nh pháº£n xáº¡ láº¡i tÆ°Æ¡ng Ä‘á»‘i nhá».
- Ká»¹ thuáº­t Ä‘a chÆ°Æ¡ng trÃ¬nh khÃ´ng Ä‘áº£m báº£o Ä‘Æ°á»£c thá»i gian Ä‘Ã¡p á»©ng ngáº¯n nhÆ° váº­y.


### Chia sáº» thá»i gian

- Chia sáº» thá»i gian cÃ³ thá»ƒ coi nhÆ° Ä‘a chÆ°Æ¡ng trÃ¬nh cáº£i tiáº¿n
- CPU láº§n lÆ°á»£t thá»±c hiá»‡n cÃ¡c cÃ´ng viá»‡c khÃ¡c nhau trong nhá»¯ng khoáº£ng thá»i gian ngáº¯n gá»i lÃ  lÆ°á»£ng tá»­ thá»i gian
- Chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c cÃ´ng viá»‡c diá»…n ra vá»›i táº§n sá»‘ cao vÃ  tá»‘c Ä‘á»™ CPU lá»›n
- 
=> Táº¥t cáº£ ngÆ°á»i dÃ¹ng Ä‘á»u cÃ³ cáº£m giÃ¡c mÃ¡y tÃ­nh chá»‰ thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh cá»§a mÃ¬nh.

=> CPU Ä‘Æ°á»£c chia sáº» giá»¯a nhá»¯ng ngÆ°á»i dÃ¹ng khÃ¡c nhau tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p vá»›i há»‡ thá»‘ng.


## VI.Cáº¥u trÃºc HDH

### CÃ¡c thÃ nh pháº§n

**Quáº£n lÃ½ tiáº¿n trÃ¬nh:**

-  Má»™t chÆ°Æ¡ng trÃ¬nh Ä‘ang trong quÃ¡ trÃ¬nh thá»±c hiá»‡n Ä‘Æ°á»£c gá»i lÃ  tiáº¿n trÃ¬nh.
- Táº¡o vÃ  xoÃ¡ tiáº¿n trÃ¬nh (bao gá»“m cáº£ tiáº¿n trÃ¬nh ngÆ°á»i dÃ¹ng vÃ  tiáº¿n trÃ¬nh há»‡ thá»‘ng).
- Táº¡m treo vÃ  khÃ´i phá»¥c cÃ¡c tiáº¿n trÃ¬nh bá»‹ treo.
- Äá»“ng bá»™ hoÃ¡ cÃ¡c tiáº¿n trÃ¬nh (láº­p lá»‹ch cho cÃ¡c tiáº¿n trÃ¬nh.v.v.).
- Táº¡o cÆ¡ cháº¿ liÃªn láº¡c giá»¯a cÃ¡c tiáº¿n trÃ¬nh.
- Giáº£i quyáº¿t cÃ¡c báº¿ táº¯c, vÃ­ dá»¥ nhÆ° khi cÃ³ xung Ä‘á»™t vá» tÃ i nguyÃªn.
- **Báº¿ táº¯c:** lÃ  chÆ°Æ¡ng trÃ¬nh Ä‘ang cáº§n tÃ i nguyÃªn nhá»¯ng nÃ³ chá» Ä‘á»£i mÃ  khÃ´ng Ä‘Æ°á»£c cung cáº¥p.

![anh](./image/49.png)



**Quáº£n lÃ½ bá»™ nhá»›:**

- Quáº£n lÃ½, cung cáº¥p vÃ  giáº£i phÃ³ng.
- Cung cáº¥p vÃ  giáº£i phÃ³ng bá»™ nhá»› theo yÃªu cáº§u cá»§a cÃ¡c tiáº¿n trÃ¬nh.
- Quáº£n lÃ½ khÃ´ng gian nhá»› Ä‘Ã£ Ä‘Æ°á»£c cáº¥p vÃ  khÃ´ng gian cÃ²n trá»‘ng.
- Quáº£n lÃ½ viá»‡c phÃ¢n phá»‘i bá»™ nhá»› giá»¯a cÃ¡c tiáº¿n trÃ¬nh => Ä‘áº£m báº£o viá»‡c cháº¡y song song giá»¯a nhiá»u chÆ°Æ¡ng trÃ¬nh.
- Táº¡o ra bá»™ nhá»› áº£o vÃ  Ã¡nh xáº¡ Ä‘á»‹a chá»‰ bá»™ nhá»› áº£o vÃ o bá»™ nhá»› thá»±c.


**Quáº£n lÃ½ há»‡ thá»‘ng vÃ o ra:**

- Quáº£n lÃ½ thÃ´ng qua cÃ¡c chÆ°Æ¡ng trÃ¬nh Ä‘iá»u khiá»ƒn
- ÄÆ¡n giáº£n hoÃ¡ vÃ  tÄƒng hiá»‡u quáº£ quÃ¡ trÃ¬nh trao Ä‘á»•i thÃ´ng tin giá»¯a cÃ¡c tiáº¿n trÃ¬nh vá»›i thiáº¿t bá»‹ vÃ o ra

**Quáº£n lÃ½ file vÃ  thÆ° má»¥c:**

- Táº¡o, xÃ³a file vÃ  thÆ° má»¥c
- Äá»c ghi file
- Ãnh xáº¡ file vÃ  thÆ° má»¥c sang bá»™ nhá»› ngoÃ i


**Há»— trá»£ máº¡ng vÃ  xá»­ lÃ½ phÃ¢n tÃ¡n:**
- Quáº£n lÃ½ thiáº¿t bá»‹ máº¡ng
- Há»— trá»£ cÃ¡c giao thá»©c truyá»n thÃ´ng
- Quáº£n lÃ½ truyá»n thÃ´ng, cÃ¢n báº±ng táº£i
=> ThÃ´ng qua cÃ¡c thÃ nh pháº§n Ä‘iá»u khiá»ƒn, giao tiáº¿p máº¡ng.

**Giao diá»‡n vá»›i ngÆ°á»i dÃ¹ng:**
- ÄÃ³ lÃ  há»‡ thá»‘ng thÃ´ng dá»‹ch lá»‡nh
- GiÃºp cho mÃ¡y tÃ­nh hiá»ƒu vÃ  xá»­ lÃ½ Ä‘Æ°á»£c cÃ¡c chá»‰ thá»‹, cÃ¡c lá»‡nh cá»§a ngÆ°á»i dÃ¹ng.
- VÃ­ dá»¥: bash cá»§a Linux, command cá»§a window

CÃ¡c chÆ°Æ¡ng trÃ¬nh tiá»‡n Ã­ch vÃ  á»©ng dá»¥ng.


### NhÃ¢n cá»§a HDH

HDH gá»“m ráº¥t nhiá»u thÃ nh pháº§n, tuy nhiÃªn Ä‘á»™ quan trá»ng cá»§a cÃ¡c thÃ nh pháº§n khÃ¡c nhau, cÃ³ nhá»¯ng thÃ nh pháº§n khÃ´ng thá»ƒ thiáº¿u lÃ  cÆ¡ sá»Ÿ cho toÃ n há»‡ thá»‘ng hoáº¡t Ä‘á»™ng, má»™t sá»‘ thÃ nh pháº§n cá»§a HDH cung cáº¥p chá»©c nÄƒng kÃ©m quan trá»ng hÆ¡n.

=> chá»‰ táº£i nhá»¯ng thÃ nh pháº§n quan trá»ng khÃ´ng thá»ƒ thiáº¿u Ä‘Æ°á»£c vÃ o bá»™ nhá»› gá»i lÃ  nhÃ¢n.

**NhÃ¢n (kernel)** lÃ  pháº§n cá»‘t lÃµi, thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng cÆ¡báº£n nháº¥t, quan trá»ng nháº¥t cá»§a HDH vÃ  thÆ°á»ng xuyÃªn Ä‘Æ°á»£c giá»¯ trong bá»™ nhá»›

**Kernel** cÃ³ nhiá»‡m vá»¥ quáº£n lÃ½ tÃ i nguyÃªn há»‡ thá»‘ng (liÃªn láº¡c giá»¯a cÃ¡c thÃ nh pháº§n pháº§n cá»©ng vÃ  pháº§n má»m)


![anh](./image/what-is-kernel.png)


MÃ¡y tÃ­nh hiá»‡n Ä‘áº¡i thÆ°á»ng Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i hai cháº¿ Ä‘á»™ thá»±c hiá»‡n chÆ°Æ¡ng trÃ¬nh.
- **NhÃ¢n cháº¡y trong cháº¿ Ä‘á»™ Ä‘áº·c quyá»n â€“ cháº¿ Ä‘á»™ nhÃ¢n:** lÃ  cháº¿ Ä‘á»™ mÃ  chÆ°Æ¡ng trÃ¬nh thá»±c hiá»‡n trong Ä‘Ã³ cÃ³ Ä‘áº§y Ä‘á»§ quyá»n truy cáº­p vÃ  Ä‘iá»u khiá»ƒn pháº§n cá»©ng mÃ¡y tÃ­nh.
- **Cháº¿ Ä‘á»™ ngÆ°á»i dÃ¹ng:** chÆ°Æ¡ng trÃ¬nh thá»±c hiá»‡n trong cháº¿ Ä‘á»™ ngÆ°á»i dÃ¹ng bá»‹ háº¡n cháº¿ ráº¥t nhiá»u quyá»n truy cáº­p vÃ  sá»­ dá»¥ng pháº§n cá»©ng.

Viá»‡c phÃ¢n biá»‡t cháº¿ Ä‘á»™ nhÃ¢n vÃ  cháº¿ Ä‘á»™ ngÆ°á»i dÃ¹ng nháº±m má»¥c Ä‘Ã­ch ngÄƒn khÃ´ng cho CTUD vÃ´ tÃ¬nh hoáº·c cá»‘ Ã½ thá»±c hiá»‡n nhá»¯ng thao tÃ¡c lÃ m áº£nh hÆ°á»Ÿng tá»›i há»‡ thá»‘ng.

### Má»™t sá»‘ cáº¥u trÃºc HDH.

**Cáº¥u trÃºc nguyÃªn khá»‘i:**

- ToÃ n bá»™ chÆ°Æ¡ng trÃ¬nh vÃ  dá»¯ liá»‡u cá»§a HÄH cÃ³ chung 1 khÃ´ng gian nhá»›. Do váº­y, cÃ³ thá»ƒ coi lÃ  má»™t khá»‘i duy nháº¥t.
- HÄH trá»Ÿ thÃ nh má»™t táº­p há»£p cÃ¡c thá»§ tá»¥c hay cÃ¡c chÆ°Æ¡ng trÃ¬nh con
- **Æ¯u Ä‘iá»ƒm:** Nhanh, khÃ´ng máº¥t thá»i gian giá»¯a cÃ¡c khÃ´ng gian nhá»›
- **NhÆ°á»£c Ä‘iá»ƒm:** KhÃ´ng an toÃ n, khi báº¥t ká»³ thÃ nh pháº§n nÃ o cÃ³ sá»± cá»‘ thÃ¬ toÃ n bá»™ há»‡ thá»‘ng sáº½ khÃ´ng hoáº¡t Ä‘á»™ng Ä‘c; Ko má»m dáº»o vÃ  khÃ³ sá»­a Ä‘á»•i, thÃªm bá»›t thÃ nh pháº§n nÃ o sáº½ áº£nh hÆ°á»Ÿng tá»›i toÃ n bá»™ há»‡ thá»‘ng, khi cÃ³ lá»—i khÃ³ xÃ¡c Ä‘á»‹nh lá»—i do thÃ nh pháº§n nÃ o gÃ¢y ra.

![anh](./image/50.png)


**Cáº¥u trÃºc phÃ¢n lá»›p:**
- CÃ¡c thÃ nh pháº§n Ä‘Æ°á»£c chia thÃ nh cÃ¡c lá»›p náº±m chá»“ng lÃªn nhau
- Má»—i lá»›p chá»‰ cÃ³ thá»ƒ liÃªn láº¡c vá»›i lá»›p náº±m ká» bÃªn trÃªn vÃ  ká» bÃªn dÆ°á»›i
- Má»—i lá»›p chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng dá»‹ch vá»¥ do lá»›p náº±m ngay bÃªn dÆ°á»›i cung cáº¥p
- **Æ¯u Ä‘iá»ƒm:** chia nhá» chá»©c nÄƒng, dá»… sá»­ dá»¥ng, dá»… sá»­a lá»—i
- **NhÆ°á»£c Ä‘iá»ƒm:** khÃ³ thiáº¿t káº¿ (xÃ¡c Ä‘á»‹nh sá»‘ lá»›p, phÃ¢n chia thÃ nh pháº§n cÃ¡c chá»©c nÄƒng cá»§a má»—i lá»›p), tá»‘c Ä‘á»™ cháº­m hÆ¡n cáº¥u trÃºc nguyÃªn khá»‘i

![anh](./image/51.png)


**Cáº¥u trÃºc vi nhÃ¢n (micro kernel):**
- NhÃ¢n cÃ³ kÃ­ch thÆ°á»›c nhá», chá»‰ chá»©a cÃ¡c chá»©c nÄƒng quan trá»ng nháº¥t
- CÃ¡c chá»©c nÄƒng cÃ²n láº¡i Ä‘Æ°á»£c Ä‘áº·t vÃ o cÃ¡c modul riÃªng: cháº¡y trong cháº¿ Ä‘á»™ Ä‘áº·c quyá»n hoáº·c ngÆ°á»i dÃ¹ng. Khi cÃ³ yÃªu cáº§u tá»« á»©ng dá»¥ng, nhÃ¢n sáº½ chuyá»ƒn cho module tÆ°Æ¡ng á»©ng Ä‘á»ƒ xá»­ lÃ½ vÃ  nháº­n láº¡i káº¿t quáº£, nhÃ¢n chá»§ yáº¿u Ä‘Ã³ng vai trÃ² trung gian liÃªn láº¡c.
- **Æ¯u Ä‘iá»ƒm:** má»m dáº»o, an toÃ n
- **NhÆ°á»£c Ä‘iá»ƒm:** tá»‘c Ä‘á»™ cháº­m hÆ¡n so vá»›i cáº¥u trÃºc nguyÃªn khá»‘i 

![anh](./image/52.png)


## VII. Má»™t sá»‘ HDH cá»¥ thá»ƒ

### UNIX

![anh](./image/unix.webp)


- LÃ  má»™t há»‡ Ä‘iá»u hÃ nh Ä‘a nhiá»‡m, Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘áº§u tiÃªn bá»Ÿi Ken Thompson, Dennis Ritchie vÃ  Douglas Mcllroy táº¡i AT & T Bell.
- UNIX Ä‘Æ°á»£c nghiÃªn cá»©u táº¡i cÃ¡c phÃ²ng thÃ­ nghiá»‡m nÄƒm 1969 vÃ  dáº§n cáº£i tiáº¿n, phÃ¡t triá»ƒn vÃ  trá»Ÿ nÃªn phá»• biáº¿n. Unix láº§n Ä‘áº§u tiÃªn Ä‘Æ°á»£c láº­p trÃ¬nh láº¡i bá»Ÿi Ken Thompson báº±ng ngÃ´n ngá»¯ C vÃ o nÄƒm 1973.
- Táº¡o ra ngÃ´n ngá»¯ cáº¥p cao trong cÃ¡c há»‡ Ä‘iá»u hÃ nh
- Táº¡o ra há»‡ thá»‘ng táº­p tin phÃ¢n cáº¥p
- Unix shell Ä‘Ã£ truyá»n cáº£m há»©ng cho nhiá»u trÃ¬nh thÃ´ng dá»‹ch dÃ²ng lá»‡nh phÃ¡t triá»ƒn sau Ä‘Ã³.
- GiÃºp ngÃ´n ngá»¯ láº­p trÃ¬nh C trá»Ÿ nÃªn phá»• biáº¿n hÆ¡n
- GÃ³p pháº§n vÃ o sá»± ra máº¯t cá»§a phong trÃ o pháº§n má»m miá»…n phÃ­

### MINIX (Tá»« mini-Unix)

![anh](./image/maxresdefault.jpg)

- LÃ  má»™t há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh tá»±a Unix dá»±a trÃªn kiáº¿n trÃºc micro-kernel.
- PhiÃªn báº£n Ä‘áº§u cá»§a MINIX Ä‘Æ°á»£c táº¡o ra bá»Ÿi Andrew S.Tanenbaum cho má»¥c Ä‘Ã­ch giÃ¡o dá»¥c nhÆ° minh há»a, phá»¥c vá»¥ Ä‘Ã o táº¡o, cÃ³ thá»ƒ sá»­ dá»¥ng miá»…n phÃ­.
- MINIX bÃ¢y giá» phÃ¡t triá»ƒn nhÆ° lÃ  pháº§n má»m nguá»“n má»Ÿ.

### LINUX

![anh](./image/00-Linux.png)

- VÃ o nÄƒm 1991 trong khi Ä‘ang há»c táº¡i Helsinki - Pháº§n Lan, Linus Torvalds báº¯t Ä‘áº§u cÃ³ Ã½ tÆ°á»Ÿng vá» má»™t há»‡ Ä‘iá»u hÃ nh.
- Do Ã´ng cÅ©ng nháº­n tháº¥y háº¡n cháº¿ trong giáº¥y phÃ©p cá»§a Minix chá»‰ cho phÃ©p viá»‡c sá»­ dá»¥ng Minix trong giÃ¡o dá»¥c mÃ  thÃ´i. Ã”ng báº¯t Ä‘áº§u viáº¿t nÃªn há»‡ Ä‘iá»u hÃ nh LINUX phÃ¡t triá»ƒn tá»« MINIX.


### MS-DOS

![anh](./image/ms-dos-la-gi.jpg)

- LÃ  sáº£n pháº©m cá»§a hÃ£ng Microsoft vÃ  Ä‘Æ°á»£c trang bá»‹ cho cÃ¡c mÃ¡y PC Ä‘áº§u tiÃªn cá»§a IBM
- Äá»ƒ cÃ³ thá»ƒ cháº¡y trÃªn PC vá»›i tÃ i nguyÃªn háº¡n cháº¿, MS-DOS Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘Æ¡n giáº£n vÃ  Ã­t chá»©c nÄƒng hÆ¡n
- Nhiá»u giáº£i phÃ¡p ká»¹ thuáº­t trong MS-DOS cÃ³ nguá»“n gá»‘c tá»« UNIS nhÆ° giao iá»‡n láº­p trÃ¬nh (lá»i gá»i há»‡ thá»‘ng), cáº¥u trÃºc phÃ¢n cáº¥p cá»§a thÆ° má»¥c, bá»™ dá»‹ch lá»‡nh
- KhÃ´ng cÃ³ cÃ¡c chá»©c nÄƒng nhÆ° báº£o máº­t, há»— trá»£ máº¡ng, há»— trá»£ nhiá»u tiáº¿n trÃ¬nh

### Windows NT

![anh](./image/windows-nt-la-gi-640.png)

Windows NT (NT-new technology) lÃ  má»™t thÃ nh viÃªn cá»§a há» Ä‘iá»u hÃ nh tháº¿ há»‡ má»›i nhÆ° Windows 2000, XP, Vista,7.
- PhiÃªn báº£n Ä‘áº§u tiÃªn Ä‘Æ°á»£c phÃ¡t hÃ nh vÃ o nÄƒm 1993
- ÄÃ¢y lÃ  hÄ‘h sá»­ dá»¥ng nhiá»u ká»¹ thuáº­t tiÃªn tiáº¿n trong lÄ©nh vá»±c hÄ‘h Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t triá»ƒn cho Ä‘áº¿n thá»i Ä‘iá»ƒm nÃ y gá»“m cÃ¡c giáº£i phÃ¡p láº¥y tá»« UNIX
- LÃ  má»™t há»‡ Ä‘iá»u hÃ nh Ä‘a nhiá»‡m, há»— trá»£ máº¡ng, cÃ³ cÃ¡c chá»©c nÄƒng báº£o máº­t, cÃ³ giao diá»‡n Ä‘á»“ há»a dÆ°á»›i dáº¡ng cá»­a sá»• vÃ  Ä‘Æ°á»£c dÃ¹ng cho cáº£ mÃ¡y PC yÃªu cáº§u Ä‘á»™ á»•n Ä‘á»‹nh cao.

# ChÆ°Æ¡ng 2: Há»‡ thá»‘ng File


Há»‡ thá»‘ng mÃ¡y tÃ­nh pháº£i cÃ³ kháº£ nÄƒng lÆ°u láº¡i Ä‘Æ°á»£c cÃ¡c thÃ´ng tin, dá»¯ liá»‡u. Há»‡ thá»‘ng lÆ°u trá»¯ cá»§a cÃ¡c loáº¡i mÃ¡y tÃ­nh cao cáº¥p thuá»ng cÃ³ kÃ­ch thÆ°Æ¡c ráº¥t lá»›n nÃªn sáº½ chá»©a ráº¥t nhiá»u dá»¯ liá»‡u. Khi lÆ°á»£ng dá»¯ liá»‡u lÆ°u trá»¯ quÃ¡ lá»›n, náº¿u khÃ´ng khÃ©o trong viá»‡c quáº£n lÃ½ truy cáº­p sáº½ khÃ³ khÄƒn vÃ  hao tá»‘n thá»i gian. Cáº§n cÃ³ cÃ¡c hÃ¬nh thá»©c tá»• chá»©c, sáº¯p xáº¿p dá»¯ liá»‡u má»™t cÃ¡ch há»£p lÃ½ vÃ  xÃ¢y dá»±ng cÃ¡c thuáº­t toÃ¡n tá»‘i Æ°u Ä‘á»ƒ cÃ³ thá»ƒ truy cáº­p nhanh chÃ³ng, hiá»‡u quáº£.

## I. CÃ¡c khÃ¡i niá»‡m.

![anh](./image/download.webp)

**File** Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° táº­p há»£p cÃ¡c thÃ´ng tin liÃªn quan Ä‘áº¿n nhau Ä‘Æ°á»£c Ä‘áº·t tÃªn vÃ  Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn **bá»™ nhá»› ngoÃ i.**




![anh](./image/XAO9h.png)

**Thuá»™c tÃ­nh cá»§a file:** Ä‘á»ƒ quáº£n lÃ½ file ngoÃ i ná»™i dung, HÄH cÃ²n Ä‘á»‹nh nghÄ©a cÃ¡c thuá»™c tÃ­nh, tÃ­nh cháº¥t. File cÃ³ cÃ¡c thuá»™c tÃ­nh nhÆ° sau:

- TÃªn file
- Kiá»ƒu file
- KÃ­ch thÆ°á»›c file
- NgÆ°á»i táº¡o file, ngÆ°á»i sá»Ÿ há»¯u
- Quyá»n truy cáº­p file
- Thá»i gian táº¡o file, sá»­a file, truy cáº­p láº§n cuá»‘i
- Vá»‹ trÃ­ file

Äáº·t tÃªn cho file:

- Cho phÃ©p xÃ¡c Ä‘á»‹nh file.
- LÃ  thÃ´ng tin ngÆ°á»i dÃ¹ng thÆ°á»ng sá»­ dá»¥ng nháº¥t khi lÃ m viá»‡c vá»›i file.


Quy táº¯c Ä‘áº·t tÃªn cho file cá»§a má»™t sá»‘ HDH:

![anh](./image/53.png)


Cáº¥u trÃºc file:
- CÃ¡c thÃ´ng tin trong file cÃ³ thá»ƒ ráº¥t khÃ¡c nhau
- CÃ³ nhá»¯ng file chá»©a nhiá»u thÃ´ng tin khÃ´ng cÃ³ cáº¥u trÃºc: file vÄƒn báº£n. File cÃ³ cáº¥u trÃºc nhÆ°: file CSDL, file excel.
=> Cáº¥u trÃºc cá»§a file cÅ©ng ráº¥t khÃ¡c nhau vÃ  phá»¥ thuá»™c vÃ o thÃ´ng
tin chá»©a trong file
Há»— trá»£ cáº¥u trÃºc file á»Ÿ má»©c HDH:

- Æ¯u Ä‘iá»ƒm:
  - CÃ¡c thao tÃ¡c vá»›i file sáº½ dá»… dÃ ng hÆ¡n Ä‘á»‘i vá»›i ngÆ°á»i láº­p trÃ¬nh á»©ng dá»¥ng
  - HDH cÃ³ thá»ƒ kiá»ƒm soÃ¡t Ä‘Æ°á»£c cÃ¡c thao tÃ¡c vá»›i file
- NhÆ°á»£c Ä‘iá»ƒm:
  - TÄƒng kÃ­ch thÆ°á»›c há»‡ thá»‘ng
  - TÃ­nh má»m dáº»o cá»§a HDH bá»‹ giáº£m
Thá»±c táº¿ cÃ¡c HDH chá»‰ coi file lÃ  táº­p há»£p cÃ¡c byte khÃ´ng cáº¥u trÃºc.

Äa sá»‘ HDH khÃ´ng há»— trá»£ vÃ  quáº£n lÃ½ kiá»ƒu cáº¥u trÃºc file

Cáº¥u trÃºc file do chÆ°Æ¡ng trÃ¬nh á»©ng dá»¥ng vÃ  ngÆ°á»i dÃ¹ng tá»± quáº£n lÃ½

Trong HDH UNIX, DOS, WINDOWS, file Ä‘Æ°Æ¡c xem nhÆ° táº­p há»£p cÃ¡c byte.

CÃ¡c chÆ°Æ¡ng trÃ¬nh á»©ng dá»¥ng khÃ¡c nhau sáº½ tá»± táº¡o ra vÃ  quáº£n lÃ½ cáº¥u trÃºc file riÃªng mÃ¬nh.

**VÃ­ dá»¥:** chÆ°Æ¡ng trÃ¬nh Ä‘á»“ há»a lÆ°u file dÆ°á»›i dáº¡ng mÃ£ nhá»‹ phÃ¢n Ä‘Ã£ Ä‘Æ°á»£c giáº£i nÃ©n, chÆ°Æ¡ng trÃ¬nh há»‡ thá»‘ng quáº£n lÃ½ dá»¯ liá»‡u sáº½ táº¡o ra file bao gá»“m cÃ¡c báº£n ghi.

## II. CÃ¡c phÆ°Æ¡ng phÃ¡p truy cáº­p file

Äá»ƒ Ä‘á»c/ghi file há»‡ Ä‘iá»u hÃ nh pháº£i quy Ä‘á»‹nh cÃ¡ch thá»©c truy cáº­p tá»›i ná»™i dung file. Má»—i HDH cÃ³ thá»ƒ há»— trá»£ má»™t hoáº·c nhiá»u cÃ¡ch truy cáº­p khÃ¡c nhau.
 
**Truy cáº­p tuáº§n tá»±:**
- ThÃ´ng tin Ä‘Æ°á»£c Ä‘á»c, ghi theo tá»«ng byte/ báº£n ghi láº§n lÆ°á»£t tá»« Ä‘áº§u file
- Sá»­ dá»¥ng 1 con trá» Ä‘á»ƒ Ä‘á»‹nh vá»‹ vá»‹ trÃ­ hiá»‡n thá»i trong file
- Kiá»ƒu truy cáº­p nÃ y phÃ¹ há»£p vá»›i má»™t sá»‘ thiáº¿t bá»‹ vÃ  má»™t sá»‘ thiáº¿t bá»‹ nhá»› vÃ  má»™t sá»‘ á»©ng dá»¥ng


**Truy cáº­p trá»±c tiáº¿p:**
- File Ä‘Æ°á»£c xem nhÆ° cÃ¡c khá»‘i/ báº£n ghi Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘
- CÃ¡c khá»‘i cÃ³ thá»ƒ truy cáº­p theo thá»© tá»± báº¥t ká»³
- Cháº³ng háº¡n ta cÃ³ thá»ƒ Ä‘á»c khá»‘i 50 sau Ä‘Ã³ Ä‘á»c khá»•i 13 rá»“i khá»‘i 101.
- Viá»‡c truy cáº­p trá»±c tiáº¿p dá»±a trÃªn Ä‘áº·c Ä‘iá»ƒm cá»§a Ä‘Ä©a cho phÃ©p truy cáº­p cÃ¡c khá»‘i báº¥t ká»³
- File Ä‘Æ°á»£c chá»©a trong cÃ¡c khá»‘i khÃ¡c nhau cá»§a Ä‘Ä©a do váº­y cÅ©ng cho phÃ©p truy cáº­p khÃ´ng tuáº§n theo thá»© tá»±


**Truy cáº­p dá»±a trÃªn chá»‰ sá»‘:**
- Cho phÃ©p truy cáº­p tá»›i báº£n ghi trong file, khÃ´ng theo sá»‘ thá»© tá»± hoáº·c vá»‹ trÃ­ cá»§a báº£n ghi trong file mÃ  theo khÃ³a á»©ng vá»›i báº£n ghi Ä‘Ã³.
- File chá»©a 1 chá»‰ sá»‘ riÃªng: gá»“m cÃ¡c khÃ³a vÃ  con trá» chá»‰ tá»›i cÃ¡c báº£n ghi trong file
- Truy cáº­p: tÃ¬m khÃ³a tÆ°Æ¡ng á»©ng trong chá»‰ má»¥c, sau Ä‘Ã³ theo con trá» xÃ¡c Ä‘á»‹nh báº£n ghi vÃ  truy cáº­p trá»±c tiáº¿p tá»›i nÃ³

![anh](./image/54.png)



## III. CÃ¡c thao tÃ¡c vá»›i file


**Táº¡o file:**
- Táº¡o file trá»‘ng chÆ°a cÃ³ data; Ä‘Æ°á»£c dÃ nh 1 chá»— trong thÆ° má»¥c kÃ¨m theo má»™t sá»‘ thuá»™c tÃ­nh nhÆ° thá»i gian táº¡o file, tÃªn file, ngÆ°á»i táº¡o file,...
XÃ³a file:
- Giáº£i phÃ³ng khÃ´ng gian mÃ  dá»¯ liá»‡u cá»§a file chiáº¿m trÃªn Ä‘Ä©a
- Giáº£i phÃ³ng chá»— cá»§a file trong thÆ° má»¥c
- Viá»‡c giáº£i phÃ³ng khÃ´ng gian cÃ³ thá»ƒ Ä‘Æ¡n thuáº§n lÃ  Ä‘Ã¡nh dáº¥u khÃ´ng
gian nhÆ° khÃ´ng gian tá»± do.

**Má»Ÿ file:**
- Thá»±c hiá»‡n trÆ°á»›c khi ghi vÃ  Ä‘á»c file
- Äá»c cÃ¡c thuá»™c tÃ­nh cá»§a file trÃªn Ä‘Ä©a vÃ o bá»™ nhá»› Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ cho
thao tÃ¡c Ä‘á»c ghi tiáº¿p theo.

**ÄÃ³ng file:**
- XÃ³a cÃ¡c thÃ´ng tin vá» file ra khá»i báº£ng trong bá»™ nhá»› Ä‘á»ƒ nhÆ°á»ng chá»— cho cÃ¡c file sáº¯p má»Ÿ.
- Ráº¥t nhiá»u há»‡ Ä‘iá»u hÃ nh háº¡n cháº¿ sá»‘ lÆ°á»£ng file Ä‘Æ°á»£c má»Ÿ cÃ¹ng má»™t lÃºc nÃªn viá»‡c Ä‘Ã³ng cÃ¡c file Ä‘Ã£ truy cáº­p xong lÃ  ráº¥t quan trá»ng.

**Ghi vÃ o file**

**Äá»c file**


## IV. ThÆ° má»¥c

### KhÃ¡i niá»‡m

Sá»‘ lÆ°á»£ng file lÆ°u trá»¯ trÃªn Ä‘Ä©a ráº¥t lá»›n => pháº£i tá»• chá»©c Ä‘á»ƒ dá»… dÃ ng quáº£n lÃ½, truy cáº­p files

KhÃ´ng gian trÃªn Ä‘Ä©a Ä‘Æ°á»£c chia thÃ nh cÃ¡c pháº§n (partition/volume) gá»i lÃ  Ä‘Ä©a logic

> VÃ­ dá»¥: trÃªn mÃ¡y tÃ­nh PC cÃ³ 1 á»• cá»©ng vÃ  cÃ³ thá»ƒ chia thÃ nh cÃ¡c á»• C,D,E => Ä‘Ä©a logic

Äá»ƒ quáº£n lÃ½ file trÃªn cÃ¡c Ä‘Ä©a logic, thÃ´ng tin vá» file Ä‘Æ°á»£c lÆ°u trong thÆ° má»¥c cá»§a Ä‘Ä©a

ThÆ° má»¥c = âˆ‘ cÃ¡c khoáº£n má»¥c ~ files

Khoáº£n má»¥c chá»©a cÃ¡c thÃ´ng tin vá» file: tÃªn, kÃ­ch thÆ°á»›c, vá»‹ trÃ­, kiá»ƒu file,â€¦ hoáº·c con trá» tá»›i nÆ¡i lÆ°u trá»¯ thÃ´ng tin nÃ y

Coi thÆ° má»¥c nhÆ° 1 báº£ng, má»—i dÃ²ng lÃ  khoáº£n má»¥c á»©ng vá»›i 1 


CÃ¡c cÃ¡ch lÆ°u thÃ´ng tin vá» file trong thÆ° má»¥c:

- ToÃ n bá»™ thuá»™c tÃ­nh cá»§a file Ä‘Æ°á»£c lÆ°u trong thÆ° má»¥c, file chá»‰ chá»©a data => kÃ­ch thÆ°á»›c khoáº£n má»¥c, thÆ° má»¥c lá»›n
- Má»™t pháº§n thuá»™c tÃ­nh Ä‘Æ°á»£c lÆ°u trá»¯ luÃ´n cÃ¹ng vá»›i dá»¯ liá»‡u cá»§a file.

ThÆ° má»¥c chá»‰ lÆ°u thÃ´ng tin tá»‘i thiá»ƒu cáº§n thiáº¿t cho viá»‡c tÃ¬m kiáº¿m vá»‹ trÃ­ file trÃªn Ä‘Ä©a => kÃ­ch thÆ°á»›c giáº£m

![anh](./image/55.png)


### CÃ¡c thao tÃ¡c vá»›i thÆ° má»¥c

**Má»Ÿ file:**
- HDH tÃ¬m trong thÆ° má»¥c khoáº£n má»¥c á»©ng vá»›i tÃªn file cáº§n má»Ÿ
- Äá»c cÃ¡c thuá»™c tÃ­nh vÃ  vá»‹ trÃ­ dá»¯ liá»‡u cá»§a file vÃ o báº£ng chá»©a thÃ´ng tin vá» cÃ¡c file Ä‘ang má»Ÿ
- Náº¿u khoáº£n má»¥c trá» tá»›i CTDL khÃ¡c chá»©a thuá»™c tÃ­nh file, cáº¥u trÃºc nÃ y sáº½ Ä‘Æ°á»£c Ä‘á»c vÃ o báº£ng

**TÃ¬m kiáº¿m file:** Cáº¥u trÃºc thÆ° má»¥c pháº£i cho phÃ©p tÃ¬m kiáº¿m file theo tÃªn file

**Táº¡o file:** Táº¡o khoáº£n má»¥c má»›i vÃ  thÃªm vÃ o thÆ° má»¥c

**XÃ³a file:** ThÃ´ng tin vá» file vÃ  khoáº£n má»¥c tÆ°Æ¡ng á»©ng bá»‹ xÃ³a khá»i thÆ° má»¥c

**Duyá»‡t thÆ° má»¥c:** liá»‡t kÃª cÃ¡c file trong thÆ° má»¥c vÃ  thÃ´ng tin chá»©a trong khoáº£n má»¥c cá»§a file

**Äá»•i tÃªn file:** chá»‰ cáº§n thá»±c hiá»‡n vá»›i thÆ° má»¥c chá»© khÃ´ng liÃªn quan Ä‘áº¿n dá»¯ liá»‡u cá»§a file

### Cáº¥u trÃºc há»‡ thá»‘ng thÆ° má»¥c

**ThÆ° má»¥c 1 má»©c:**
- ÄÆ¡n giáº£n nháº¥t
- Chá»‰ cÃ³ 1 thÆ° má»¥c duy nháº¥t vÃ  táº¥t cáº£ cÃ¡c file Ä‘Æ°á»£c giá»¯ trong thÆ° má»¥c nÃ y
- KhÃ³ chá»n tÃªn cho file
- TÃ¬m kiáº¿m file khÃ³

![anh](./image/56.png)


**ThÆ° má»¥c 2 má»©c:**
- PhÃ¢n cho má»—i ngÆ°á»i dÃ¹ng 1 thÆ° má»¥c riÃªng (UFD: User File Directory), chá»©a cÃ¡c file cá»§a mÃ¬nh
- Khi ngÆ°á»i dÃ¹ng truy cáº­p file, file sáº½ Ä‘Æ°á»£c tÃ¬m kiáº¿m trong thÆ° má»¥c á»©ng vá»›i tÃªn ngÆ°á»i Ä‘Ã³
=> cÃ¡c ngÆ°á»i dÃ¹ng khÃ¡c nhau cÃ³ thá»ƒ Ä‘áº·t tÃªn file trÃ¹ng nhau

- CÃ´ láº­p ngÆ°á»i dÃ¹ng
- CÃ¡c file mÃ  nhiá»u ngÆ°á»i dÃ¹ng truy cáº­p tá»›i => chÃ©p vÃ o tá»«ng thÆ° má»¥c cá»§a tá»«ng ngÆ°á»i dÃ¹ng => lÃ£ng phÃ­

![anh](./image/57.png)

**ThÆ° má»¥c cáº¥u trÃºc cÃ¢y:**
- ThÆ° má»¥c con cÃ³ thá»ƒ chá»©a cÃ¡c thÆ° má»¥c con khÃ¡c vÃ  cÃ¡c files
- Há»‡ thá»‘ng thÆ° má»¥c Ä‘Æ°á»£c biá»ƒu diá»…n phÃ¢n cáº¥p nhÆ° 1 cÃ¢y: cÃ nh lÃ  thÆ° má»¥c, lÃ¡ lÃ  file

![anh](./image/58.png)


ThÆ° má»¥c cáº¥u trÃºc cÃ¢y (tt):
- PhÃ¢n biá»‡t khoáº£n má»¥c file vÃ  khoáº£n má»¥c cá»§a thÆ° má»¥c con: thÃªm bit Ä‘áº·c biá»‡t trong khoáº£n má»¥c
  - `1`: khoáº£n má»¥c cá»§a thÆ° má»¥c má»©c dÆ°á»›i
  - `0`: khoáº£n má»¥c cá»§a file
- Táº¡i má»—i thá»i Ä‘iá»ƒm, ngÆ°á»i dÃ¹ng lÃ m viá»‡c vá»›i thÆ° má»¥c hiá»‡n thá»i (current directory)
- Tá»• chá»©c cÃ¢y thÆ° má»¥c cho tá»«ng Ä‘Ä©a:
  - Trong há»‡ thá»‘ng file nhÆ° FAT cá»§a DOS, cÃ¢y thÆ° má»¥c Ä‘Æ°á»£c xÃ¢y cho tá»«ng Ä‘Ä©a. Há»‡ thá»‘ng thÆ° má»¥c Ä‘Æ°á»£c coi lÃ  rá»«ng, má»—i cÃ¢y trÃªn 1 Ä‘Ä©a
  - Linux: toÃ n há»‡ thá»‘ng chá»‰ gá»“m 1 cÃ¢y thÆ° má»¥c 

ThÆ° má»¥c cáº¥u trÃºc Ä‘á»“ thá»‹ khÃ´ng tuáº§n hoÃ n (acyclic graph ):
- Chia sáº» files vÃ  thÆ° má»¥c Ä‘á»ƒ cÃ³ thá»ƒ xuáº¥t hiá»‡n á»Ÿ nhiá»u thÆ° má»¥c riÃªng khÃ¡c nhau
- Má»Ÿ rá»™ng cá»§a cáº¥u trÃºc
- CÃ¢y: lÃ¡ vÃ  cÃ nh cÃ³ thá»ƒ Ä‘á»“ng thá»i thuá»™c vá» nhá»¯ng cÃ nh khÃ¡c nhau
- Triá»ƒn khai:
  - Sá»­ dá»¥ng liÃªn káº¿t: con trá» tá»›i thÆ° má»¥c hoáº·c file khÃ¡c
  - Táº¡o báº£n sao cá»§a file vÃ  thÆ° má»¥c cáº§n chia sáº» vÃ  chá»©a vÃ o cÃ¡c thÆ° má»¥c khÃ¡c nhau => pháº£i Ä‘áº£m báº£o tÃ­nh Ä‘á»“ng bá»™ vÃ  nháº¥t quÃ¡n
- Má»m dáº»o nhÆ°ng phá»©c táº¡p

![anh](./image/59.png)

### ÄÆ°á»ng dáº«n

MÃ´ táº£ vá»‹ trÃ­ cá»§a file trong thÆ° má»¥c

**ÄÆ°á»ng dáº«n tuyá»‡t Ä‘á»‘i:**
- ÄÆ°á»ng dáº«n tá»« gá»‘c cá»§a cÃ¢y thÆ° má»¥c, Ä‘i qua cÃ¡c thÆ° má»¥c trung
gian, dáº«n tá»›i file
- `C:\bc\bin\bc.exe`
**ÄÆ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i:**
- TÃ­nh tá»« thÆ° má»¥c hiá»‡n thá»i
- ThÃªm 2 khoáº£n má»¥c Ä‘áº·c biá»‡t trong thÆ° má»¥c: â€œ.â€, â€œ..â€

### Tá»• chá»©c bÃªn trong cá»§a thÆ° má»¥c

**Danh sÃ¡ch:**
- Tá»• chá»©c thÆ° má»¥c dÆ°á»›i dáº¡ng danh sÃ¡ch cÃ¡c khoáº£n má»¥c
- TÃ¬m kiáº¿m khoáº£n má»¥c Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch duyá»‡t láº§n lÆ°á»£t danh sÃ¡ch
- ThÃªm file má»›i vÃ o thÆ° má»¥c:
  - Duyá»‡t cáº£ thÆ° má»¥c Ä‘á»ƒ kiá»ƒm tra xem khoáº£n má»¥c vá»›i tÃªn file nhÆ° váº­y Ä‘Ã£ cÃ³ chÆ°a
  - Khoáº£n má»¥c má»›i Ä‘Æ°á»£c thÃªm vÃ o cuá»‘i danh sÃ¡ch hoáº·c 1 Ã´ trong báº£ng
- Má»Ÿ file, xÃ³a file
- TÃ¬m kiáº¿m trong danh sÃ¡ch cháº­m
- LÆ°u trá»¯ thÆ° má»¥c trong bá»™ nhá»›

**CÃ¢y nhá»‹ phÃ¢n:**
- TÄƒng tá»‘c Ä‘á»™ tÃ¬m kiáº¿m nhá» CTDL cÃ³ há»— trá»£ sáº¯p xáº¿p
- Há»‡ thá»‘ng file NTFS cá»§a WinNT
**Báº£ng bÄƒm (hash table):**
- DÃ¹ng hÃ m bÄƒm Ä‘á»ƒ tÃ­nh vá»‹ trÃ­ cá»§a khoáº£n má»¥c trong thÆ° má»¥c theo tÃªn file
- Thá»i gian tÃ¬m kiáº¿m nhanh
- HÃ m bÄƒm phá»¥ thuá»™c vÃ o kÃ­ch thÆ°á»›c cá»§a báº£ng bÄƒm => kÃ­ch thÆ°á»›c báº£ng cá»‘ Ä‘á»‹nh

**Tá»• chá»©c thÆ° má»¥c cá»§a DOS:**
- Má»—i Ä‘Ä©a logic cÃ³ cÃ¢y thÆ° má»¥c riÃªng, báº¯t Ä‘áº§u tá»« thÆ° má»¥c gá»‘c ROOT
- ThÆ° má»¥c gá»‘c Ä‘Æ°á»£c Ä‘áº·t á»Ÿ pháº§n Ä‘áº§u cá»§a Ä‘Ä©a, ngay sau sector khá»Ÿi Ä‘á»™ng BOOT vÃ  báº£ng FAT
- ThÆ° má»¥c gá»‘c chá»©a files vÃ  cÃ¡c thÆ° má»¥c con
- ThÆ° má»¥c con cÃ³ thá»ƒ chá»©a files vÃ  cÃ¡c thÆ° má»¥c cáº¥p dÆ°á»›i ná»¯a
- ÄÆ°á»£c tá»• chá»©c dÆ°á»›i dáº¡ng báº£ng: má»—i khoáº£n má»¥c chiáº¿m 1 dÃ²ng trong báº£ng vÃ  cÃ³ kÃ­ch thÆ°á»›c cá»‘ Ä‘á»‹nh 32 bytes.


![anh](./image/60.png)

**Tá»• chá»©c thÆ° má»¥c cá»§a Linux:**
- ThÆ° má»¥c há»‡ thá»‘ng file Ext2 cá»§a Linux cÃ³ cÃ¡ch tá»• chá»©c Ä‘Æ¡n giáº£n
- Khoáº£n má»¥c chá»©a tÃªn file vÃ  Ä‘á»‹a chá»‰ I-node
- ThÃ´ng tin cÃ²n láº¡i vá» cÃ¡c thuá»™c tÃ­nh file vÃ  vá»‹ trÃ­ cÃ¡c khá»‘i dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trÃªn I-node chá»© khÃ´ng pháº£i thÆ° má»¥c
- KÃ­ch thÆ°á»›c khoáº£n má»¥c phá»¥ thuá»™c vÃ o Ä‘á»™ dÃ i tÃªn file
- Pháº§n Ä‘áº§u cá»§a khoáº£n má»¥c cÃ³ trÆ°á»ng cho biáº¿t kÃ­ch thÆ°á»›c khoáº£n má»¥c

![anh](./image/61.png)

## V. Cáº¥p phÃ¡t khÃ´ng gian cho file

Nhiá»‡m vá»¥ quan trá»ng cá»§a HDH trong viá»‡c quáº£n lÃ½ há»‡ thá»‘ng file lÃ  cáº¥p phÃ¡t khÃ´ng gian trÃªn Ä‘Ä©a vÃ  cÃ¡c hiáº¿t bá»‹ nhá»› ngoÃ i khÃ¡c Ä‘á»ƒ lÆ°u trá»¯ file vÃ  thÆ° má»¥c. Äá»“ng thá»i, ghi láº¡i vá»‹ trÃ­ cÃ¡c khá»‘i nhá»› Ä‘Ã£ cáº¥p phÃ¡t Ä‘á»ƒ cÃ³ thá»ƒ tiáº¿n hÃ nh truy cáº­p vá» sau.


**Sector** hay Cung lÃ  Ä‘Æ¡n vá»‹ nhá» nháº¥t do chÆ°Æ¡ng trÃ¬nh Ä‘iá»u khiá»ƒn Ä‘Ä©a cho phÃ©p Ä‘á»c hoáº·c ghi (khá»‘i váº­t lÃ½), `1 sector = 512 byte`

**Cluster** hay Ä‘Æ¡n vá»‹ cáº¥p phÃ¡t gá»“m má»™t sá»‘ khá»‘i váº­t lÃ½, lÃ  Ä‘Æ¡n vá»‹ thÃ´ng tin nhá» nháº¥t mÃ  há»‡ Ä‘iá»‡u hÃ nh cáº¥p phÃ¡t cho file (khá»‘i logic) 2KB - 32 KB.

![anh](./image/62.png)


**Má»¥c Ä‘Ã­ch cáº¥p phÃ¡t khÃ´ng gian cho file:**
- TÄƒng hiá»‡u nÄƒng truy cáº­p tuáº§n tá»±
- Dá»… dÃ ng truy cáº­p ngáº«u nhiÃªn Ä‘áº¿n file
- Dá»… dÃ ng quáº£n lÃ½ file

**CÃ¡c phÆ°Æ¡ng phÃ¡p cáº¥p phÃ¡t khÃ´ng gian cho file**
- Cáº¥p phÃ¡t khá»‘i liÃªn tiáº¿p
- Sá»­ dá»¥ng danh sÃ¡ch káº¿t ná»‘i
- Sá»­ dá»¥ng danh sÃ¡ch káº¿t ná»‘i trÃªn báº£ng chá»‰ sá»‘
- Sá»­ dá»¥ng khá»‘i chá»‰ sá»‘

### Cáº¥p phÃ¡t cÃ¡c khá»‘i liÃªn tiáº¿p

- **NguyÃªn táº¯c:** File Ä‘Æ°á»£c cáº¥p phÃ¡t cÃ¡c khá»‘i liÃªn tiáº¿p trÃªn Ä‘Ä©a.

- HÄH chá»n 1 vÃ¹ng trá»‘ng cÃ³ Ä‘á»§ sá»‘ lÆ°á»£ng khá»‘i cho file.

- Báº£ng cáº¥p phÃ¡t xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ file gá»“m 1 khoáº£n má»±c cho 1 file, khá»‘i báº¯t Ä‘áº§u, vÃ  sá»‘ khá»‘i (Ä‘á»™ dÃ i) cá»§a file

- HÄH cáº¥p phÃ¡t trÆ°á»›c vÃ  biáº¿t kÃ­ch thÆ°á»›c file khi táº¡o file.

![anh](./image/63.png)


![anh](./image/64.png)


![anh](./image/65.png)


- **Æ°u Ä‘iá»ƒm:**
  - Cho phÃ©p truy cáº­p trá»±c tiáº¿p vÃ  tuáº§n tá»±
  - ÄÆ¡n giáº£n, tá»‘c Ä‘á»™ cao
- **NhÆ°á»£c Ä‘iá»ƒm:**
  - Pháº£i biáº¿t trÆ°á»›c kÃ­ch thÆ°á»›c file khi táº¡o
  - KhÃ³ tÃ¬m chá»— cho file
  - GÃ¢y phÃ¢n máº£nh ngoÃ i: Ä‘Ã³ lÃ  hiá»‡n tÆ°á»£ng vÃ¹ng trá»‘ng cÃ²n láº¡i trÃªn Ä‘Ä©a cÃ³ kÃ­ch thÆ°á»›c quÃ¡ nhá» do váº­y khÃ´ng thá»ƒ cáº¥p phÃ¡t cho file cÃ³ kÃ­ch thÆ°á»›c lÆ¡n hÆ¡n. 

### Sá»­ dá»¥ng danh sÃ¡ch káº¿t ná»‘i

- **NguyÃªn táº¯c:** File Ä‘Æ°á»£c phÃ¢n phá»‘i cÃ¡c khá»‘i nhá»› káº¿t ná»‘i vá»›i nhau thÃ nh danh sÃ¡ch káº¿t ná»‘i, Ä‘áº§u khá»‘i chá»©a con trá» trá» tá»›i khá»‘i tiáº¿p theo.
- File Ä‘Æ°á»£c cáº¥p thÃªm khá»‘i má»›i, khá»‘i Ä‘Ã³ thÃªm vÃ o cuá»‘i danh sÃ¡ch.
- Báº£ng cáº¥p phÃ¡t chá»©a con trá» tá»›i khá»‘i Ä‘áº§u tiÃªn cá»§a file, HÄH Ä‘á»c láº§n lÆ°á»£t tá»«ng khá»‘i vÃ  sá»­ dá»¥ng con trá»Ÿ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh khá»‘i tiáº¿p theo.


![anh](./image/66.png)


![anh](./image/67.png)



- **Æ°u Ä‘iá»ƒm:**
  - KhÃ´ng bá»‹ phÃ¢n máº£nh ngoÃ i
  - KhÃ´ng yÃªu cáº§u biáº¿t trÆ°á»›c kÃ­ch thÆ°á»›c file lÃºc táº¡o
  - Dá»… tÃ¬m vá»‹ trÃ­ cho file, khoáº£n má»¥c Ä‘Æ¡n giáº£n
- **NhÆ°á»£c Ä‘iá»ƒm:**
  - KhÃ´ng há»— trá»£ truy cáº­p trá»±c tiáº¿p
  - Tá»‘c Ä‘á»™ truy cáº­p khÃ´ng cao
  - Giáº£m Ä‘á»™ tin cáº­y vÃ  tÃ­nh toÃ n váº¹n cá»§a há»‡ thá»‘ng file

### Sá»­ dá»¥ng danh sÃ¡ch káº¿t ná»‘i trÃªn báº£ng chá»‰ sá»‘


- **Báº£ng chá»‰ sá»‘:** Má»—i Ã´ cá»§a báº£ng á»©ng vá»›i 1 khá»‘i (sector) cá»§a Ä‘Ä©a
- Con trá» tá»›i khá»‘i tiáº¿p theo cá»§a file Ä‘Æ°á»£c chá»©a trong Ã´ tÆ°Æ¡ng á»©ng cá»§a báº£ng
- Má»—i Ä‘Ä©a logic cÃ³ 1 báº£ng chá»‰ sá»‘ Ä‘Æ°á»£c lÆ°u á»Ÿ vá»‹ trÃ­ xÃ¡c Ä‘á»‹nh
- KÃ­ch thÆ°á»›c má»—i Ã´ trÃªn báº£ng phá»¥ thuá»™c vÃ o sá»‘ lÆ°á»£ng khá»‘i trÃªn Ä‘Ä©a

![anh](./image/68.png)

- Cho phÃ©p tiáº¿n hÃ nh truy cáº­p file trá»±c tiáº¿p: Ä‘i theo chuá»—i con trá» chá»©a trong báº£ng chá»‰ má»¥c
- Báº£ng FAT (File Allocation Table): Ä‘Æ°á»£c lÆ°u á»Ÿ Ä‘áº§u má»—i Ä‘Ä©a logic sau sector khá»Ÿi Ä‘á»™ng
- FAT12, FAT16, FAT32: má»—i Ã´ cá»§a báº£ng cÃ³ kÃ­ch thÆ°á»›c 12, 16, 32 bit cho phÃ©p quáº£n lÃ½ $2^{12}, 2^{16}, 2^{32}$ Ã´ nhá»›.

###  Sá»­ dá»¥ng khá»‘i chá»‰ má»¥c (index block/ node)

- **NguyÃªn táº¯c:** Má»—i file cÃ³ má»™t khá»‘i chá»‰ má»¥c chÃ­nh (index block) chá»©a danh sÃ¡ch cÃ¡c khá»‘i dá»¯ liá»‡u cá»§a file.
- Táº¥t cáº£ con trá» tá»›i cÃ¡c khá»‘i thuá»™c vá» 1 file Ä‘Æ°á»£c táº­p trung 1 chá»—, trong má»™t khá»‘i gá»i lÃ  khá»‘i chá»‰ má»¥c (I-node)
- Máº£ng chá»©a thuá»™c tÃ­nh cá»§a file vÃ  vá»‹ trÃ­ cÃ¡c khá»‘i cá»§a file trÃªn Ä‘Ä©a
- Ã” thá»© i cá»§a máº£ng chá»©a con trá»e tá»›i khá»‘i thá»© i cá»§a file

![anh](./image/69.png)

![anh](./image/70.png)

![anh](./image/71.png)

- Chá»n kÃ­ch thÆ°á»›c I-node:
  - Nhá»: Tiáº¿t kiá»‡m khÃ´ng gian nhÆ°ng khÃ´ng Ä‘á»§ con trá» tá»›i cÃ¡c khá»‘i náº¿u file lá»›n.
  - Lá»›n: Vá»›i file nhá» chá»‰ chiáº¿m 1 vÃ i Ã´ thÃ¬ lÃ£ng phÃ­.

- Giáº£i phÃ¡p:
  - Thay Ä‘á»•i kÃ­ch thÆ°á»›c i-node = sá»­ dá»¥ng danh sÃ¡ch káº¿t ná»‘i
  - Sá»­ dá»¥ng I-node cÃ³ cáº¥u trÃºc nhiá»u má»©c 

![anh](./image/72.png)


- I-node cáº¥u trÃºc nhiá»u má»©c: khÃ´ng trá» trá»±c tiáº¿p tá»›i Ã´ chá»©a dá»¯ liá»‡u mÃ  trá» tá»›i cÃ¡c Ã´ khá»‘i chá»‰ má»¥c sau Ä‘Ã³ cÃ¡i Ã´ nÃ y má»›i chá»©a Ä‘á»‹a chá»‰.

![anh](./image/73.png)


- **Æ°u Ä‘iá»ƒm:**
  - Cho phÃ©p truy cáº­p trá»±c tiáº¿p
  - CÃ¡c khá»‘i thuá»™c 1 file khÃ´ng cáº§n náº±m liÃªn tiáº¿p nhau
- **NhÆ°á»£c Ä‘iá»ƒm:**
  - Tá»‘c Ä‘á»™ truy cáº­p file cháº­m

## VI. Quáº£n lÃ½ khÃ´ng gian trá»‘ng trÃªn Ä‘Ä©a

- KÃ­ch thÆ°á»›c khá»‘i (cluster):
  - KÃ­ch thÆ°á»›c khá»‘i lá»›n:
    - Giáº£m kÃ­ch thÆ°á»›c báº£ng chá»‰ má»¥c, tÄƒng tá»‘c Ä‘á»™ Ä‘á»c file;
    - Bá»‹ phÃ¢n máº£nh trong
  - KÃ­ch thÆ°á»›c khá»‘i nhá»:
    - Má»—i file chiáº¿m nhiá»u khá»‘i nhá»›, náº±m ráº£i rÃ¡c trÃªn Ä‘Ä©a
    - Thá»i gian Ä‘á»c file lÃ¢u
  - Chá»n kÃ­ch thÆ°á»›c khá»‘i tÃ¹y thuá»™c:
    - KÃ­ch thÆ°á»›c Ä‘Ä©a: Ä‘Ä©a lá»›n, chá»n kÃ­ch thÆ°á»›c khá»‘i lá»›n => thá»i gian truy cáº­p nhanh, Ä‘Æ¡n giáº£n hÃ³a viá»‡c quáº£n lÃ½
    - KÃ­ch thÆ°á»›c file: há»‡ thá»‘ng sá»­ dá»¥ng nhiá»u file lá»›n, kÃ­ch thÆ°á»›c tÄƒng vÃ  ngÆ°á»£c
  - KÃ­ch thÆ°á»›c khá»‘i thÆ°á»ng lÃ  lÅ©y thá»«a 2 cá»§a sector vÃ  náº±m trong khoáº£ng tá»« 512B tá»›i 32 KB

### Báº£ng bit

- Vector bit lÃ  máº£ng 1 chiá»u
- Má»—i Ã´ cÃ³ kÃ­ch thÆ°á»›c 1 bit tÆ°Æ¡ng á»©ng vá»›i má»™t khá»‘i trÃªn Ä‘Ä©a
- Khá»‘i Ä‘Æ°á»£c cáº¥p phÃ¡t cÃ³ bÃ­t tÆ°Æ¡ng á»©ng lÃ  0, khá»‘i trá»‘ng: 1 hoáº·c ngÆ°á»£c láº¡i
- Dá»… tÃ¬m 1 hoáº·c nhÃ³m cÃ¡c khá»‘i trá»‘ng liÃªn tiáº¿p
- Vá»›i Ä‘Ä©a cÃ³ kÃ­ch thÆ°á»›c lá»›n, Ä‘á»c toÃ n bá»™ vector bit vÃ o MEM cÃ³ thá»ƒ Ä‘Ã²i há»i khÃ¡ nhiá»u khÃ´ng gian nhá»›

### Danh sÃ¡ch káº¿t ná»‘i

- CÃ¡c khá»‘i trá»‘ng Ä‘Æ°á»£c liÃªn káº¿t vá»›i nhau thÃ nh danh sÃ¡ch
- Má»—i khá»‘i trá»‘ng chá»©a con trá» chá»‰ tá»›i khá»‘i trá»‘ng tiáº¿p theo
- Äá»‹a chá»‰ khá»‘i trá»‘ng Ä‘áº§u tiÃªn Ä‘Æ°á»£c lÆ°u á»Ÿ vá»‹ trÃ­ Ä‘áº·c biá»‡t trÃªn Ä‘Ä©a vÃ  Ä‘Æ°á»£c HDH giá»¯ trong MEM khi cáº§n lÃ m viá»‡c vá»›i cÃ¡c file
- ÄÃ²i há»i truy cáº­p láº§n lÆ°á»£t khi cáº§n duyá»‡t danh sÃ¡ch nÃ y
- HDH cÃ³ thá»ƒ cáº¥p phÃ¡t ngay cÃ¡c khá»‘i á»Ÿ Ä‘áº§u danh sÃ¡ch

### Danh sÃ¡ch vÃ¹ng trá»‘ng

- CÃ¡c khá»‘i náº±m liá»n nhau thÆ°á»ng Ä‘Æ°á»£c cáº¥p phÃ¡t vÃ  giáº£i phÃ³ng Ä‘á»“ng thá»i
- LÆ°u vá»‹ trÃ­ khá»‘i trá»‘ng Ä‘áº§u tiÃªn cá»§a vÃ¹ng cÃ¡c khá»‘i trá»‘ng liÃªn tiáº¿p vÃ  sá»‘ lÆ°á»£ng cÃ¡c khá»‘i trá»‘ng náº±m liá»n sau Ä‘Ã³
- ThÃ´ng tin trÃªn Ä‘Æ°á»£c lÆ°u vÃ o danh sÃ¡ch riÃªng

## VII. Äá»™ tin cáº­y cá»§a há»‡ thá»‘ng file

### PhÃ¡t hiá»‡n vÃ  loáº¡i trá»« cÃ¡c khá»‘i há»ng


- PhÃ¡t hiá»‡n vÃ  loáº¡i trá»« khá»‘i há»ng
  - PhÆ°Æ¡ng phÃ¡p 1:
    - Má»™t sector trÃªn Ä‘Ä©a Ä‘Æ°á»£c dÃ nh riÃªng chá»©a danh sÃ¡ch cÃ¡c khá»‘i há»ng
    - Má»™t sá»‘ khá»‘i khÃ´ng há»ng Ä‘Æ°á»£c dÃ nh riÃªng Ä‘á»ƒ dá»± trá»¯
    - CÃ¡c khá»‘i há»ng sáº½ Ä‘Æ°á»£c thay tháº¿ bá»Ÿi cÃ¡c khá»‘i dá»± trá»¯ báº±ng cÃ¡ch thay tháº¿ Ä‘á»‹a chá»‰
    - Truy cáº­p tá»›i khá»‘i há»ng thÃ nh truy cáº­p tá»›i khá»‘i dá»± trá»¯
  - PhÆ°Æ¡ng phÃ¡p 2:
    - Táº­p trung táº¥t cáº£ cÃ¡c khá»‘i há»ng thÃ nh 1 file
    => Ä‘Æ°á»£c coi nhÆ° Ä‘Ã£ cáº¥p phÃ¡t vÃ  khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng ná»¯a

### Sao dá»± phÃ²ng

- Táº¡o ra má»™t báº£n sao cá»§a Ä‘Ä©a trÃªn má»™t váº­t mang khÃ¡c
- Sao lÆ°u toÃ n bá»™ (full backup):
  - Ghi toÃ n bá»™ thÃ´ng tin trÃªn Ä‘Ä©a ra váº­t mang tin khÃ¡c
  - Cháº¯c cháº¯n nhÆ°ng tá»‘n nhiá»u thá»i gian
- Sao lÆ°u tÄƒng dáº§n (incremental backup):
  - ÄÆ°á»£c sá»­ dá»¥ng sau khi Ä‘Ã£ tiáº¿n hÃ nh full backup Ã­t nháº¥t 1 láº§n
  - Chá»‰ ghi láº¡i cÃ¡c file Ä‘Ã£ bá»‹ thay Ä‘á»•i sau láº§n sao lÆ°u cuá»‘i cÃ¹ng
  - Há»‡ thá»‘ng lÆ°u trá»¯ thÃ´ng tin vá» cÃ¡c láº§n lÆ°u trá»¯ file
  - DOS: file thay Ä‘á»•i, archive bit =1
- Káº¿t há»£p:
  - Full backup: hÃ ng tuáº§n/ thÃ¡ng
  - Incremental backup: hÃ ng ngÃ y

### Kiá»ƒm tra tÃ­nh toÃ n váº¹n cá»§a há»‡ thá»‘ng 


- Há»‡ thá»‘ng file chá»©a nhiá»u CTDL cÃ³ má»‘i liÃªn káº¿t => thÃ´ng tin vá» liÃªn káº¿t bá»‹ hÆ° háº¡i, tÃ­nh toÃ n váº¹n cá»§a há»‡ thá»‘ng bá»‹ phÃ¡ vá»¡
- CÃ¡c khá»‘i khÃ´ng cÃ³ máº·t trong danh sÃ¡ch cÃ¡c khá»‘i trá»‘ng, Ä‘á»“ng thá»i cÅ©ng khÃ´ng cÃ³ máº·t trong má»™t file nÃ o
- Má»™t khá»‘i cÃ³ thá»ƒ vá»«a thuá»™c vá» má»™t file nÃ o Ä‘Ã³ vá»«a cÃ³ máº·t trong danh sÃ¡ch khá»‘i trá»‘ng
- HDH cÃ³ cÃ¡c chÆ°Æ¡ng trÃ¬nh kiá»ƒm tra tÃ­nh toÃ n váº¹n cá»§a há»‡ thá»‘ng file, Ä‘Æ°á»£c cháº¡y khi há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng, Ä‘áº·c biá»‡t lÃ  sau sá»± cá»‘

### Kiá»ƒm tra tÃ­nh toÃ n váº¹n cá»§a há»‡ thá»‘ng file

- VÃ­ dá»¥ trong há»‡ UNIX:
  - Táº¡o hai sá»‘ Ä‘áº¿m cho má»—i khá»‘i:
    - Sá»‘ Ä‘áº¿m thá»© nháº¥t: sá»‘ láº§n khá»‘i Ä‘Ã³ xuáº¥t hiá»‡n trong danh sÃ¡ch khá»‘i trá»‘ng.
    - Sá»‘ Ä‘áº¿m thá»© hai: sá»‘ láº§n khá»‘i xuáº¥t hiá»‡n trong file
  - Táº¥t cáº£ sá»‘ Ä‘áº¿m Ä‘Æ°á»£c khá»Ÿi táº¡o báº±ng 0
  - Duyá»‡t danh sÃ¡ch khá»‘i trá»‘ng vÃ  toÃ n bá»™ i-node cá»§a cÃ¡c file
    - Má»™t khá»‘i xuáº¥t hiá»‡n trong danh sÃ¡ch khá»‘i trá»‘ng, sá»‘ Ä‘áº¿m tÆ°Æ¡ng á»©ng thá»© nháº¥t Ä‘Æ°á»£c tÄƒng má»™t Ä‘Æ¡n vá»‹
    - Náº¿u khá»‘i xuáº¥t hiá»‡n trong i-node cá»§a file, sá»‘ Ä‘áº¿m tÆ°Æ¡ng á»©ng thá»© hai Ä‘Æ°á»£c tÄƒng má»™t Ä‘Æ¡n vá»‹
  - Tá»•ng 2 sá»‘ Ä‘áº¿m = 1

![anh](./image/74.png)

### Äáº£m báº£o tÃ­nh toÃ n váº¹n báº±ng cÃ¡ch sá»­ dá»¥ng giao 

- Giao tÃ¡c (transaction) lÃ  má»™t táº­p há»£p cÃ¡c thao tÃ¡c cáº§n pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n trá»n váº¹n cÃ¹ng vá»›i nhau
- Vá»›i há»‡ thá»‘ng file: má»—i giao tÃ¡c sáº½ bao gá»“m nhá»¯ng thao tÃ¡c thay Ä‘á»•i liÃªn káº¿t cáº§n thá»±c hiá»‡n cÃ¹ng nhau
- ToÃ n bá»™ tráº¡ng thÃ¡i há»‡ thá»‘ng file Ä‘Æ°á»£c ghi láº¡i trong file log
- Náº¿u giao tÃ¡c khÃ´ng Ä‘Æ°á»£c thá»±c hiá»‡n trá»n váº¹n, HDH sá»­ dá»¥ng thÃ´ng tin tá»« log Ä‘á»ƒ khÃ´i phá»¥c há»‡ thá»‘ng file vá» tráº¡ng thÃ¡i khÃ´ng lá»—i trÆ°á»›c khi thá»±c hiá»‡n giao tÃ¡c

## VIII. Báº£o máº­t cho há»‡ thá»‘ng file


- NgÄƒn cáº£n viá»‡c truy cáº­p trÃ¡i phÃ©p cÃ¡c thÃ´ng tin lÆ°u trá»¯ trong file vÃ  thÆ° má»¥c
- Háº¡n cháº¿ cÃ¡c thao tÃ¡c truy cáº­p tá»›i file hoáº·c thÆ° má»¥c
- DÃ¹ng máº­t kháº©u:
  - NgÆ°á»i dÃ¹ng pháº£i nhá»› nhiá»u máº­t kháº©u
  - Má»—i khi thao tÃ¡c vá»›i tÃ i nguyÃªn láº¡i gÃµ máº­t kháº©u


- Sá»­ dá»¥ng danh sÃ¡ch quáº£n lÃ½ truy cáº­p ACL (Access Control List)
  - Má»—i file Ä‘Æ°á»£c gÃ¡n danh sÃ¡ch Ä‘i kÃ¨m, chá»©a thÃ´ng tin Ä‘á»‹nh danh ngÆ°á»i dÃ¹ng vÃ  cÃ¡c quyá»n ngÆ°á»i Ä‘Ã³ Ä‘Æ°á»£c thá»±c hiá»‡n vá»›i file
  - ACL thÆ°á»ng Ä‘Æ°á»£c lÆ°u trá»¯ nhÆ° thuá»™c tÃ­nh cá»§a file/ thÆ° má»¥c
  - ThÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cÃ¹ng vá»›i cÆ¡ cháº¿ Ä‘Äƒng nháº­p
  - CÃ¡c quyá»n truy cáº­p cÆ¡ báº£n:
    - Quyá»n Ä‘á»c (r)
    - Quyá»n ghi, thay Ä‘á»•i (w)
    - Quyá»n xÃ³a
    - Quyá»n thay Ä‘á»•i chá»§ file (change owner)

## IX. Há»‡ thá»‘ng file FAT

- 3 phiÃªn báº£n: FAT12, FAT16, FAT32
- Chá»¯ sá»‘ chá»‰ kÃ­ch thÆ°á»›c Ã´ báº£ng FAT tÆ°Æ¡ng á»©ng 12, 16 vÃ  32 bit


### ÄÄ©a Logic

- ÄÆ¡n vá»‹ cáº¥p phÃ¡t khÃ´ng gian trÃªn Ä‘Ä©a (khá»‘i logic) lÃ  `cluster` (lÅ©y thá»«a 2 cá»§a sá»‘ lÆ°á»£ng sector)

![anh](./image/75.png)

- Boot sector:
  - Sector Ä‘áº§u tiÃªn cá»§a Ä‘Ä©a logic
  - Chá»©a thÃ´ng tin mÃ´ táº£ cáº¥u trÃºc Ä‘Ä©a logic: kÃ­ch thÆ°á»›c sector, cluster, kÃ­ch thÆ°á»›c báº£ng FAT
  - Chá»©a mÃ£ chÆ°Æ¡ng trÃ¬nh má»“i Ä‘á»ƒ táº£i HÄH náº¿u Ä‘Ä©a logic lÃ  Ä‘Ä©a khá»Ÿi Ä‘á»™ng

- FAT: báº£ng chá»‰ sá»‘ quáº£n lÃ½ cáº¥p phÃ¡t khá»‘i cho file
- ThÆ° má»¥c gá»‘c ROOT
- VÃ¹ng dá»¯ liá»‡u: chá»©a cÃ¡c file vÃ  thÆ° má»¥c cá»§a Ä‘Ä©a logic


### BOOT SECTOR

- 32 Byte Ä‘áº§u tiÃªn

![anh](./image/76.png)

- CÃ¡c byte tiáº¿p theo vá»›i FAT12/16

![anh](./image/77.png)


- CÃ¡c byte tiáº¿p theo vá»›i FAT32

![anh](./image/78.png)

### Báº£ng FAT

- Quáº£n lÃ½ cÃ¡c cluster trÃªn Ä‘Ä©a vÃ  cÃ¡c file theo nguyÃªn táº¯c:
  - CÃ¡c khá»‘i thuá»™c cÃ¹ng 1 file Ä‘Æ°á»£c liÃªn káº¿t thÃ nh 1 danh sÃ¡ch
  - Con trá» Ä‘Æ°á»£c chá»©a trong Ã´ tÆ°Æ¡ng á»©ng cá»§a báº£ng FAT
- Má»—i Ã´ trong báº£ng FAT tÆ°Æ¡ng á»©ng vá»›i má»™t cluster trÃªn Ä‘Ä©a, chá»©a 1 trong cÃ¡c thÃ´ng tin:
  - STT cluster tiáº¿p theo trong danh sÃ¡ch cÃ¡c khá»‘i cá»§a file
  - Dáº¥u hiá»‡u káº¿t thÃºc náº¿u Ã´ tÆ°Æ¡ng á»©ng vá»›i cluster cuá»‘i cÃ¹ng cá»§a file
  - Dáº¥u hiá»‡u Ä‘Ã¡nh dáº¥u cluster há»ng, khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng
  - Dáº¥u hiá»‡u Ä‘Ã¡nh dáº¥u cluster dá»± phÃ²ng
  - Báº±ng 0 náº¿u cluster trá»‘ng, chÆ°a cáº¥p phÃ¡t cho file nÃ o

- Cluster Ä‘áº§u tiÃªn cá»§a vÃ¹ng dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Ã¡nh STT lÃ  2
- Hai Ã´ Ä‘áº§u tiÃªn cá»§a báº£ng FAT khÃ´ng dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster

![anh](./image/79.png)

### ThÆ° má»¥c gá»‘c (ROOT)

- Má»—i thÆ° má»¥c Ä‘Æ°á»£c lÆ°u trong báº£ng thÆ° má»¥c, thá»±c cháº¥t lÃ  1 file Ä‘áº·c biá»‡t chá»©a cÃ¡c khoáº£n má»¥c cá»§a thÆ° má»¥c
- Má»—i khoáº£n má»¥c chá»©a thÃ´ng tin vá» má»™t file hoáº·c thÆ° má»¥c con cá»§a thÆ° má»¥c Ä‘ang xÃ©t
- Vá»›i FAT12/16, thÆ° má»¥c trÃªn cÃ¹ng cá»§a Ä‘Ä©a Ä‘Æ°á»£c chá»©a trong 1 vÃ¹ng Ä‘áº·c biá»‡t gá»i lÃ  thÆ° má»¥c gá»‘c
- CÃ¡c thÆ° má»¥c má»©c tháº¥p hÆ¡n/ thÆ° má»¥c gá»‘c cá»§a FAT32 Ä‘Æ°á»£c chá»©a trong vÃ¹ng dá»¯ liá»‡u trÃªn Ä‘Ä©a cÃ¹ng vá»›i cÃ¡c file
- Má»—i thÆ° má»¥c gá»“m cÃ¡c khoáº£n má»¥c 32 byte xáº¿p liá»n nhau

![anh](./image/80.png)

### HÃ m Ä‘á»c Ä‘Ä©a

- int absread(int drive, int nsects, long lsect, void *buffer)
  - drive: á»• Ä‘Ä©a cáº§n Ä‘á»c, A: 0, B:1, C:2
  - nsects: sá»‘ sector cáº§n Ä‘á»c
  - lsect: vá»‹ trÃ­ sector báº¯t Ä‘áº§u Ä‘á»c
  - buffer: vÃ¹ng nhá»› lÆ°u ná»™i dung thÃ´ng tin cáº§n Ä‘á»c

### Äá»c FAT

- Vá»‹ trÃ­ sector báº¯t Ä‘áº§u: reserved sector (byte 14, 15 trong bootsector)
- Tá»•ng sá»‘ sector cáº§n Ä‘á»c: sectors per FAT (byte 22, 23)

### Äá»c ROOT

- Vá»‹ trÃ­ sector báº¯t Ä‘áº§u: reserved sector + NoOfFATs * sectors per FAT
- Tá»•ng sá»‘ sector cáº§n Ä‘á»c: NoOfRootEntries * 32 /BytesPerSector

### BÃ i táº­p thá»±c hÃ nh


#### BÃ i táº­p: TrÃ¬nh bÃ y cÃ¡c bÆ°á»›c cáº§n thiáº¿t Ä‘á»ƒ Ä‘á»c thÆ° má»¥c gá»‘c root tá»« tháº» nhá»› USB (FAT16)


```c++
int absread(int drive, int nsects, long lsects, void *buffer)
// drive: o dia can doc A: 0, B: 1, C: 2
// nsects(num sector): so sector can doc
// lsects(first sector): vi tri sector bat dau doc
// buffer: vung nho luu noi dung thong tin can doc
```

- B1: XÃ¢y dá»±ng cáº¥u trÃºc cá»§a BOOT vÃ  ROOT â†’ khai bÃ¡o cáº¥u trÃºc dá»¯ liá»‡u

```c++
struct BOOT {
};
int *root
```

- B2: Äá»c Boot Sector báº±ng hÃ m `absread(4 (hoac 5), 1, 0, &boot)`
- B3: Ä‘á»c Root â†’ sá»­ dá»¥ng `absread`
- Sá»‘ lÆ°á»£ng sector cáº§n Ä‘á»c:

```c++
nsects = BOOT.root_size * 32 / BOOT.bytes_per_sector
// BOOT.root_size * 32 : tong so luong byte cua boot
```

- Vá»‹ trÃ­ sector Ä‘áº§u tiÃªn:

```
lsectors = BOOT.reserved + BOOT.FAT_size * BOOT.FAT_cnt
// BOOT.reserved: so luong sector cac khoi du phong
// BOOT.FAT_size: kich thuoc 1 bang FAT
// BOOT.FAT_cnt: so luong bang FAT
```

- HÃ m Ä‘á»c ROOT:

```
absread(4, (hoac 5), nsects, lsects, root)
```


#### BÃ i táº­p: Giáº£ sá»­ báº£ng FAT Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»c (Ä‘Ã£ Ä‘á»c boot sector) vÃ o bá»™ nhá»› Ä‘á»‹a chá»‰ <void *FAT> Viáº¿t chÆ°Æ¡ng trÃ¬nh C/C++ liá»‡t kÃª Cluster trá»‘ng trong N cluster Ä‘áº§u tiÃªn.

```c++
for(int i = 0; i < N; i++)
	if(fat[i] == 0) printf(" %d", i);
```

#### BÃ i táº­p: Giáº£ sá»­ báº£ng FAT Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»c(Ä‘Ã£ Ä‘á»c boot sector) vÃ o bá»™ nhá»› Ä‘á»‹a chá»‰ vÃ  1 file náº±m á»Ÿ thÆ° má»¥c gá»‘c báº¯t Ä‘áº§u tá»« cluster n. Viáº¿t Ä‘oáº¡n chÆ°Æ¡ng trÃ¬nh in ra tÃªn file

```c++
int *root = new int[BOOT.Root_size * 32 / sizeof(int)]
absread(Drive, nsects, lsect, root)
for(int i = 0; i < BOOT.Root_size, i++) {
	if(root[i].first_cluster == n) {
		// in file name
		for(int j = 0; j < 8; j++) { // TÃªn file, thÃªm báº±ng dáº¥u tráº¯ng á»Ÿ cuá»‘i náº¿u ngáº¯n hÆ¡n 8 byte
			if(root[i].filename[j] != ' ') {
				printf("%c", root[i].filename[j])
				}
			}
		}
	}
```

#### BÃ i táº­p: Giáº£ sá»­ báº£ng FAT Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»c(Ä‘Ã£ Ä‘á»c boot sector) vÃ o bá»™ nhá»› Ä‘á»‹a chá»‰ vÃ  1 file náº±m á»Ÿ thÆ° má»¥c gá»‘c báº¯t Ä‘áº§u tá»« cluster n. Viáº¿t Ä‘oáº¡n chÆ°Æ¡ng trÃ¬nh in ra cÃ¡c cluster thuá»™c file Ä‘Ã³

```c++
int cur = n;
printf("%u -> ", cur);
while(n < 0xFFF8){
	cur = FAT[cur]
	printf("%u -> ", cur);
}
```


# ChÆ°Æ¡ng 3: Quáº£n lÃ½ bá»™ nhá»›

## I. PhÃ¢n chÆ°Æ¡ng bá»™ nhá»›
- Äá»ƒ thá»±c hiá»‡n tiáº¿n trÃ¬nh, HÄH cáº§n cáº¥p phÃ¡t cho tiáº¿n trÃ¬nh khÃ´ng gian nhá»› cáº§n thiáº¿t.
- Viá»‡c cáº¥p phÃ¡t vÃ  quáº£n lÃ½ vÃ¹ng nhá»› lÃ  chá»©c nÄƒng quan trá»ng cá»§a HÄH
- Má»™t ká»¹ thuáº­t cáº¥p phÃ¡t Ä‘Æ¡n giáº£n nháº¥t lÃ  má»—i tiáº¿n trÃ¬nh Ä‘Æ°á»£c cáº¥p má»™t vÃ¹ng bá»™ nhá»› liÃªn tá»¥c
- HÄH tiáº¿n hÃ nh chia bá»™ nhá»› thÃ nh cÃ¡c pháº§n liÃªn tá»¥c lÃ  chÆ°Æ¡ng (partition), má»—i tiáº¿n trÃ¬nh sáº½ Ä‘Æ°á»£c cung cáº¥p má»™t chÆ°Æ¡ng Ä‘á»ƒ chá»©a lá»‡nh vÃ  dá»¯ liá»‡u cá»§a mÃ¬nh.
- QuÃ¡ trÃ¬nh phÃ¢n chia bá»™ nhá»› thÃ nh chÆ°Æ¡ng nhÆ° váº­y gá»i lÃ  `phÃ¢n chÆ°Æ¡ng bá»™ nhá»›`.
- TÃ¹y thuá»™c viá»‡c lá»±a chá»n vá»‹ trÃ­ vÃ  kÃ­ch thÆ°á»›c cá»§a chÆ°Æ¡ng, cÃ³ thá»ƒ phÃ¢n biá»‡t `phÃ¢n chÆ°Æ¡ng cá»‘ Ä‘á»‹nh` vÃ  `phÃ¢n chÆ°Æ¡ng Ä‘á»™ng`
- CÃ¡c chiáº¿n lÆ°á»£c quáº£n lÃ½ bá»™ nhá»›:
  - PhÃ¢n chÆ°Æ¡ng cá»‘ Ä‘á»‹nh
  - PhÃ¢n chÆ°Æ¡ng Ä‘á»™ng
  - PhÃ¢n trang
  - PhÃ¢n Ä‘oáº¡n
  - Káº¿t há»£p phÃ¢n Ä‘oáº¡n - phÃ¢n trang

### PhÃ¢n chÆ°Æ¡ng cá»‘ Ä‘á»‹nh

- **NguyÃªn táº¯c:** 
  - Bá»™ nhá»› Ä‘Æ°á»£c chia lÃ m `n` pháº§n.
  - Má»—i pháº§n Ä‘Æ°á»£c gá»i lÃ  má»™t chÆ°Æ¡ng (partition)
  - ChÆ°Æ¡ng Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° má»™t vÃ¹ng nhá»› Ä‘á»™c láº­p.
  - Má»—i chÆ°Æ¡ng chÃºa Ä‘Æ°á»£c Ä‘Ãºng má»™t tiáº¿n trÃ¬nh
  -  Khi Ä‘Æ°á»£c táº£i vÃ o, tiáº¿n trÃ¬nh Ä‘Æ°á»£c cáº¥p phÃ¡t má»™t chÆ°Æ¡ng. Sau khi tiáº¿n trÃ¬nh káº¿t thÃºc, HÄH giáº£i phÃ³ng chÆ°Æ¡ng vÃ  chÆ°Æ¡ng cÃ³ thá»ƒ Ä‘Æ°á»£c cáº¥p phÃ¡t cho tiáº¿n trÃ¬nh má»›i.
  -  ChÆ°Æ¡ng cÃ³ thá»ƒ cÃ³ kÃ­ch thÆ°á»›c báº±ng nhau hoáº·c khÃ¡c nhau.
  
- VÃ­ dá»¥: XÃ©t há»‡ thá»‘ng dÆ°á»›i Ä‘Ã¢y bá»™ nhÃ³ Ä‘Æ°á»£c tá»• chá»©c theo phÃ¢n chÆ°Æ¡ng cá»‘ Ä‘á»‹nh, tÃ­nh thá»i gian HÄH thá»±c hiá»‡n xong cÃ¡c tiáº¿n trÃ¬nh sau:

![anh](./image/81.png)

- KÃ­ch thÆ°á»›c cÃ¡c chÆ°Æ¡ng báº±ng nhau:
  - **Æ¯u Ä‘iá»ƒm:** ÄÆ¡n giáº£n
  - **NhÆ°á»£c Ä‘iá»ƒm:** KÃ­ch thÆ°á»›c chÆ°Æ¡ng trÃ¬nh > kÃ­ch thÆ°á»›c chÆ°Æ¡ng dáº«n Ä‘áº¿n khÃ´ng thá»ƒ cáº¥p phÃ¡t.
  - GÃ¢y phÃ¢n máº£nh trong
  

- KÃ­ch thÆ°á»›c cÃ¡c chÆ°Æ¡ng khÃ¡c nhau:
  - CÃ³ hai cÃ¡ch lá»±a chá»n chÆ°Æ¡ng nhá»› Ä‘á»ƒ cáº¥p cho tiáº¿n trÃ¬nh Ä‘ang chá» Ä‘á»£i báº±ng cÃ¡ch chá»n chÆ°Æ¡ng cÃ³ kÃ­ch thÆ°á»›c nhá» nháº¥t:
    - Má»—i chÆ°Æ¡ng cÃ³ má»™t hÃ ng Ä‘á»£i riÃªng
    - Má»™t hÃ ng Ä‘á»£i chung cho táº¥t cáº£ cÃ¡c chÆ°Æ¡ng

- **Má»—i chÆ°Æ¡ng cÃ³ má»™t hÃ ng Ä‘á»£i riÃªng:** tiáº¿n trÃ¬nh cÃ³ kÃ­ch thÆ°á»›c phÃ¹ há»£p vá»›i chÆ°Æ¡ng nÃ o sáº½ náº±m trong hÃ ng Ä‘á»£i cá»§a chÆ°Æ¡ng Ä‘Ã³.

![anh](./image/82.png)

- **Æ¯u Ä‘iá»ƒm:** Tiáº¿t kiá»‡m bá»™ nhá»›, giáº£m phÃ¢n máº£nh trong.
- **NhÆ°á»£c Ä‘iá»ƒm:** Há»‡ thá»‘ng khÃ´ng tá»‘i Æ°u, cÃ³ thá»i Ä‘iá»ƒm hÃ ng Ä‘á»£i chÆ°Æ¡ng lá»›n thÃ¬ rá»—ng, hÃ ng Ä‘á»£i chÆ°Æ¡ng nhá» hÆ¡n chá»©a nhiá»u tiáº¿n trÃ¬nh.

- **Má»™t hÃ ng Ä‘á»£i chung cho táº¥t cáº£ cÃ¡c chÆ°Æ¡ng:** Má»—i khi cÃ³ má»™t chÆ°Æ¡ng trá»‘ng tiáº¿n trÃ¬nh náº±m gáº§n Ä‘áº§u hÃ ng Ä‘á»£i nháº¥t vÃ  cÃ³ kÃ­ch thÆ°á»›c phÃ¹ há»£p vá»›i chÆ°Æ¡ng nháº¥t sáº½ Ä‘Æ°á»£c táº£i vÃ  thá»±c hiá»‡n

![anh](./image/83.png)

- Æ¯u Ä‘iá»ƒm: Tiáº¿t kiá»‡m bá»™ nhá»›, giáº£m phÃ¢n máº£nh trong vÃ  tá»‘i Æ°u há»‡ thá»‘ng.

- **Nháº­n xÃ©t** vá» phÃ¢n chÆ°Æ¡ng cá»‘ Ä‘á»‹nh:
  - **Æ¯u Ä‘iá»ƒm:**
    - ÄÆ¡n giáº£n vÃ  Ã­t xá»­ lÃ½
    - Giáº£m thá»i gian tÃ¬m kiáº¿m
  - **NhÆ°á»£c Ä‘iá»ƒm:**
    - Há»‡ sá»‘ song song khÃ´ng thá»ƒ vÆ°á»£t quÃ¡ sá»‘ lÆ°á»£ng chÆ°Æ¡ng cá»§a bá»™ nhá»›
    - Bá»‹ phÃ¢n Ä‘oáº¡n bá»™ nhá»›
    - KÃ­ch thÆ°á»›c chÆ°Æ¡ng trÃ¬nh lá»›n hÆ¡n kÃ­ch thÆ°á»›c chÆ°Æ¡ng lá»›n nháº¥t
    - Tá»•ng bá»™ nhá»› tá»± do cÃ²n lá»›n, nhÆ°ng khÃ´ng dÃ¹ng Ä‘á»ƒ náº¡p cÃ¡c chÆ°Æ¡ng trÃ¬nh khÃ¡c

### ChÆ°Æ¡ng trÃ¬nh Ä‘á»™ng


- **NguyÃªn táº¯c**
- KÃ­ch thÆ°á»›c, sá»‘ lÆ°á»£ng vÃ  vá»‹ trÃ­ chÆ°Æ¡ng Ä‘á»u cÃ³ thá»ƒ thay Ä‘á»•i
- CÃ¡c vÃ¹ng trá»‘ng bá»™ nhá»› cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c liÃªn káº¿t thÃ nh má»™t danh sÃ¡ch káº¿t ná»‘i
- Khi má»™t tiáº¿n trÃ¬nh yÃªu cáº§u bá»™ nhá»›:
  - HÄH cáº¥p cho tiáº¿n trÃ¬nh 1 chÆ°Æ¡ng cÃ³ kÃ­ch thÆ°á»›c Ä‘Ãºng báº±ng tiáº¿n trÃ¬nh Ä‘Ã³ Ä‘ang cáº§n
  - Náº¿u tÃ¬m tháº¥y vÃ¹ng nhá»› tÆ°Æ¡ng á»©ng
  - VÃ¹ng trá»‘ng Ä‘Æ°á»£c chia thÃ nh 2 pháº§n
  - Má»™t pháº§n cung cáº¥p theo yÃªu cáº§u
  - Má»™t pháº§n tráº£ láº¡i danh sÃ¡ch vÃ¹ng trá»‘ng tá»± do
- Náº¿u khÃ´ng tÃ¬m tháº¥y:
  - Pháº£i chá» tá»›i khi cÃ³ Ä‘Æ°á»£c má»™t vÃ¹ng trá»‘ng thá»a mÃ£n
  - Cho phÃ©p tiáº¿n trÃ¬nh khÃ¡c trong hÃ ng Ä‘á»£i thá»±c hiá»‡n (náº¿u Ä‘á»™ Æ°u tiÃªn Ä‘áº£m báº£o)

-  Khi tiáº¿n trÃ¬nh káº¿t thÃºc sáº½ táº¡o vÃ¹ng trá»‘ng trong Bá»™ nhá»› vÃ  cÃ¡c vÃ¹ng trá»‘ng náº±m cáº¡nh nhau Ä‘Æ°á»£c nháº­p láº¡i thÃ nh vÃ¹ng lá»›n hÆ¡n
  

![anh](./image/84.png)

- **VÃ­ dá»¥:** XÃ©t há»‡ thá»‘ng dÆ°á»›i Ä‘Ã¢y bá»™ nhÃ³ Ä‘Æ°á»£c tá»• chá»©c theo phÃ¢n chÆ°Æ¡ng Ä‘á»™ng, tÃ­nh thá»i gian HÄH thá»±c hiá»‡n xong cÃ¡c tiáº¿n trÃ¬nh sau:

![anh](./image/85.png)


- PhÃ¢n chÆ°Æ¡ng Ä‘á»™ng trÃ¡nh viá»‡c phÃ¢n máº£nh trong
- GÃ¢y phÃ¢n máº£nh ngoÃ i: dá»“n nhá»¯ng vÃ¹ng trá»‘ng nhá» thÃ nh lá»›n (nÃ©n)
- CÃ¡c chiáº¿n lÆ°á»£c cáº¥p chÆ°Æ¡ng chá»n vÃ¹ng chá»‘ng:
  - **First Fit:** Chá»n vÃ¹ng thÃ­ch há»£p Ä‘áº§u tiÃªn
  - **Best Fit:** VÃ¹ng thÃ­ch há»£p nháº¥t
  - **Worst Fit:** VÃ¹ng trá»‘ng thÃ­ch há»£p nháº¥t - vÃ¹ng kÃ­ch thÆ°á»›c lá»›n nháº¥t

#### PhÆ°Æ¡ng phÃ¡p ká» cáº­n - Buddy system
- **NguyÃªn táº¯c:** Chia Ä‘Ã´i liÃªn tiáº¿p vÃ¹ng trá»‘ng tá»± do cho tá»›i khi thu Ä‘Æ°á»£c vÃ¹ng trá»‘ng nhá» nháº¥t thá»a mÃ£n
- CÃ¡c chÆ°Æ¡ng vÃ  khá»‘i trá»‘ng cÃ³ kÃ­ch thÆ°á»›c lÃ  $2^k (L \leq k \leq H)$
- $2^L$: KÃ­ch thÆ°á»›c nhá» nháº¥t cá»§a chÆ°Æ¡ng
- $2^H$: KÃ­ch thÆ°á»›c cá»§a toÃ n bá»™ khÃ´ng gian nhá»›
- YÃªu cáº§u cáº¥p vÃ¹ng nhá»› $S$:
  - $2^{H-1} \< S \leq 2^H $: Cáº¥p cáº£ $2^{H}$
  - $S \leq 2^{H-1}$: Chia vÃ¹ng trá»‘ng tÃ¬m Ä‘Æ°á»£c thÃ nh 2 khá»‘i báº±ng nhau (gá»i lÃ  buddies) $2^{H-1}$
    - Náº¿u $2^{H-2} \< S \leq 2^{H-1}$: Cáº¥p cáº£ $2^{H-1}$
    - Tiáº¿p tÃºc chi Ä‘Ã´i tá»›i khi tÃ¬m Ä‘Æ°á»£c vÃ¹ng thá»a mÃ£n.

- **VÃ­ dá»¥:**  VÃ¹ng trá»‘ng 16K Bytes, yÃªu cáº§u cáº¥p phÃ¡t má»™t chÆ°Æ¡ng cÃ³ kÃ­ch thÆ°á»›c 735 Bytes

![anh](./image/86.png)

![anh](./image/87.png)

![anh](./image/88.png)

![anh](./image/89.png)

![anh](./image/90.png)

![anh](./image/91.png)


- PhÆ°Æ¡ng phÃ¡p ká» cáº­n cung cáº¥p bá»™ nhá»› nhanh: vá»›i bá»™ nhá»› kÃ­ch thÆ°á»›c $n$,cáº§n duyá»‡t $log_2{n}$ danh sÃ¡ch


![anh](./image/92.png)

![anh](./image/93.png)

![anh](./image/94.png)

![anh](./image/95.png)


- **Thu há»“i vÃ¹ng nhá»›:** CÃ³ thá»ƒ káº¿t há»£p 2 vÃ¹ng ká» nhau cÃ³ cÃ¹ng kÃ­ch thÆ°á»›c, tiáº¿p tá»¥c káº¿t há»£p liÃªn tiáº¿p cho tá»›i khi táº¡o ra vÃ¹ng trá»‘ng lá»›n nháº¥t cÃ³ thá»ƒ.

![anh](./image/96.png)

![anh](./image/97.png)

![anh](./image/98.png)

![anh](./image/99.png)

![anh](./image/100.png)

![anh](./image/101.png)

![anh](./image/102.png)

![anh](./image/103.png)

![anh](./image/104.png)


### Ãnh xáº¡ Ä‘á»‹a chá»‰ vÃ  chá»‘ng truy cáº­p trÃ¡i phÃ©p

- Khi tiáº¿n trÃ¬nh Ä‘Æ°á»£c táº£i vÃ o bá»™ nhá»›, CPU dÃ nh 2 thanh ghi:
  - Thanh ghi cÆ¡ sá»Ÿ: chá»©a Ä‘á»‹a chá»‰ báº¯t Ä‘áº§u cá»§a tiáº¿n trÃ¬nh
  - Thanh ghi giá»›i háº¡n: chá»©a Ä‘á»™ dÃ i chÆ°Æ¡ng

![anh](./image/105.png)

- Äá»‹a chá»‰ logic Ä‘Æ°á»£c so sÃ¡nh vá»›i ná»™i dung cá»§a thanh ghi giá»›i háº¡n
  - Náº¿u lá»›n hÆ¡n: lá»—i truy cáº­p
  - Nhá» hÆ¡n: Ä‘Æ°a tá»›i bá»™ cá»™ng vá»›i thanh ghi cÆ¡ sá»Ÿ thÃ nh Ä‘á»‹a chá»‰ váº­t lÃ½
- Náº¿u chÆ°Æ¡ng bá»‹ di chuyá»ƒn thÃ¬ ná»™i dung cá»§a thanh ghi cÆ¡ sá»Ÿ bá»‹ thay Ä‘á»•i chá»©a Ä‘á»‹a chá»‰ má»›i

### Trao Ä‘á»•i giá»¯a bá»™ nhá»› vÃ  Ä‘Ä©a (swapping)


- PhÆ°Æ¡ng phÃ¡p trÃ¡o Ä‘á»•i (swapping):
- CÃ¡c tiáº¿n trÃ¬nh Ä‘ang thá»±c hiá»‡n cÃ³ thá»ƒ bá»‹ táº¡m thá»i táº£i ra Ä‘Ä©a nhÆ°á»ng chá»— Ä‘á»ƒ táº£i cÃ¡c tiáº¿n trÃ¬nh khÃ¡c vÃ o.
- Sau Ä‘Ã³ láº¡i Ä‘Æ°á»£c táº£i vÃ o (náº¿u chÆ°a káº¿t thÃºc) Ä‘á»ƒ thá»±c hiá»‡n tiáº¿p
  - Má»™t tiáº¿n trÃ¬nh Ä‘Ã£ háº¿t khoáº£ng thá»i gian sá»­ dá»¥ng CPU cá»§a mÃ¬nh
  - NhÆ°á»ng chá»— cho má»™t tiáº¿n trÃ¬nh khÃ¡c cÃ³ thá»© tá»± Æ°u tiÃªn cao hÆ¡n
- Thá»i gian táº£i phá»¥ thuá»™c vÃ o tá»‘c Ä‘á»™ truy cáº­p Ä‘Ä©a, tá»‘c Ä‘á»™ truy cáº­p bá»™ nhá»› vÃ  kÃ­ch thÆ°á»›c tiáº¿n trÃ¬nh
- Khi Ä‘Æ°á»£c táº£i vÃ o láº¡i, tiáº¿n trÃ¬nh cÃ³ thá»ƒ Ä‘Æ°á»£c chá»©a vÃ o chÆ°Æ¡ng á»Ÿ vá»‹ trÃ­ cÅ© hoáº·c Ä‘Æ°á»£c cáº¥p cho má»™t chÆ°Æ¡ng Ä‘á»‹a chá»‰ hoÃ n toÃ n má»›i
- CÃ¡c tiáº¿n trÃ¬nh bá»‹ trao Ä‘á»•i pháº£i á»Ÿ tráº¡ng thÃ¡i nghá»‰, Ä‘áº·c biá»‡t khÃ´ng thá»±c hiá»‡n cÃ¡c thao tÃ¡c vÃ o ra

## II. PhÃ¢n trang bá»™ nhá»›

- Trong ká»¹ thuáº­t phÃ¢n chÆ°Æ¡ng, má»—i tiáº¿n trÃ¬nh chiáº¿m má»™t chÆ°Æ¡ng tá»©c lÃ  má»™t vÃ¹ng liÃªn tá»¥c trong bá»™ nhá»› dáº«n Ä‘áº¿n phÃ¢n máº£nh vÃ  khÃ´ng táº­n dá»¥ng háº¿t Ä‘Æ°á»£c bá»™ nhá»›.
- `Ká»¹ thuáº­t phÃ¢n trang (paging)` Ä‘á»ƒ háº¡n cháº¿ nhÆ°á»£c Ä‘iá»ƒm cá»§a ká»¹ thuáº­t phÃ¢n chÆ°Æ¡ng:

![anh](./image/106.png)


### KhÃ¡i niá»‡m phÃ¢n trang

- Bá»™ nhá»› váº­t lÃ½ Ä‘Æ°á»£c chia thÃ nh tá»«ng khá»‘i cÃ³ kÃ­ch thÆ°á»›c báº±ng nhau: khung trang váº­t lÃ½ (page frame):
  - Khung trang váº­t lÃ½ Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ 0,1,2,... : Ä‘á»‹a chá»‰ váº­t lÃ½ cá»§a khung trang
  - Khung trang Ä‘Æ°á»£c dÃ¹ng lÃ m Ä‘Æ¡n vá»‹ phÃ¢n phá»‘i nhá»›
- KhÃ´ng gian Ä‘á»‹a chá»‰ logic cá»§a tiáº¿n trÃ¬nh hay bá»™ nhá»› logic (chÆ°Æ¡ng trÃ¬nh) Ä‘Æ°á»£c chia thÃ nh nhá»¯ng khá»‘i gá»i lÃ  trang (page) cÃ³ kÃ­ch thÆ°á»›c báº±ng khung trang.

![anh](./image/107.png)

- Tiáº¿n trÃ¬nh Ä‘Æ°á»£c cáº¥p cÃ¡c khung Ä‘á»ƒ chá»©a cÃ¡c trang cá»§a mÃ¬nh.
- Trang cÃ³ thá»ƒ chá»©a trong cÃ¡c khung náº±m ráº£i rÃ¡c trong bá»™ nhá»›

![anh](./image/107.png)

![anh](./image/108.png)

![anh](./image/109.png)


![anh](./image/110.png)

![anh](./image/111.png)

![anh](./image/112.png)

![anh](./image/113.png)

- **Báº£ng trang:** HÄH quáº£n lÃ½ viá»‡c cáº¥p phÃ¡t khung cho má»—i tiáº¿n trÃ¬nh báº±ng báº£ng trang (Page table): má»—i Ã´ tÆ°Æ¡ng á»©ng vá»›i 1 trang vÃ  chá»©a sá»‘ khung cáº¥p cho trang Ä‘Ã³.
- Má»—i tiáº¿n trÃ¬nh cÃ³ báº£ng trang riÃªng:

![anh](./image/114.png)

### Ãnh xáº¡ Ä‘á»‹a chá»‰

- **Ãnh xáº¡ Ä‘á»‹a chá»‰** Ä‘á»‹a chá»‰ logic khi phÃ¢n trang sang Ä‘á»‹a chá»‰ váº­t lÃ½.

![anh](./image/115.png)

![anh](./image/116.png)

![anh](./image/117.png)

![anh](./image/118.png)

-  Ãnh xáº¡ Ä‘á»‹a chá»‰ gá»“m 2 pháº§n:
   - Sá»‘ thá»© tá»± trang (p)
   - Äá»™ dá»‹ch (Ä‘á»‹a chá»‰ lá»‡ch) cá»§a Ä‘á»‹a chá»‰ so vá»›i Ä‘áº§u trang (o)


![anh](./image/119.png)

- Náº¿u kÃ­ch thÆ°á»›c trang lÃ  $2^n$. Biá»ƒu diá»…n Ä‘á»‹a chá»‰ logic dÆ°á»›i dáº¡ng Ä‘á»‹a chá»‰ cÃ³ Ä‘á»™ dÃ i (m + n) bit
  - m bit cao: biá»ƒu diá»…n sá»‘ thá»© tá»± trang
  - n bit tháº¥p: biá»ƒu diá»…n Ä‘á»™ dá»‹ch trong trang nhá»›

#### Cho trang nhá»› cÃ³ kÃ­ch thÆ°á»›c 1024Byte, Ä‘á»™ dÃ i Ä‘á»‹a chá»‰ logic lÃ  16bit. TÃ­nh Ä‘á»‹a chá»‰ logic cá»§a Ä‘á»‹a chá»‰ váº­t lÃ½ 1500? TÃ­nh sá»‘ trang vÃ  Ä‘á»™ dá»‹ch trong trang?


<details>
  <summary style="display: inline-block; padding: 6px 12px; font-size: 14px; font-weight: 400; line-height: 1.5; color: var(--button-text-color, #fff); background-color: var(--button-bg-color, #28a745); border: 1px solid transparent; border-radius: 4px; cursor: pointer;">Xem Ä‘Ã¡p Ã¡n</summary>
  <div style="margin-top: 10px; padding: 10px; background-color: var(--answer-bg-color, #e9f7ef); border-left: 5px solid var(--answer-border-color, #28a745); color: var(--answer-text-color, #000);">
    <p><strong>ğŸ’» ÄÃ¡p Ã¡n:</strong></p>
    <p>CÃ¡ch 1:<br>
      m+n = 16 do khÃ´ng gian nhá»› logic lÃ  16 bit<br>
      Sá»‘ lÆ°á»£ng khung trong má»™t trang lÃ  1024 Bytes = \(2^{10}\) Bytes, nÃªn cáº§n 10 bit Ä‘á»ƒ biá»ƒu diá»…n cho khung trong trang<br>
      => n = 10 ; m = 6<br>
      1500 = 0000010111011100<br>
      Váº­y ta cÃ³ p = \(000001_2\) = 1; o = \(0111011100_2\) = 476<br>
      CÃ¡ch 2:<br>
      Pháº§n p = 1500/1024 = 1<br>
      Pháº§n o = 1500mod1024 = 476<br>
      Váº­y ta cÃ³ p = 1; o = 476</p>
  </div>
</details>


- Chuyá»ƒn Ä‘á»‹a chá»‰ logic sang Ä‘á»‹a chá»‰ váº­t lÃ½:
  - Láº¥y m bit cao cá»§a Ä‘á»‹a chá»‰ => Ä‘Æ°á»£c sá»‘ thá»© tá»± trang
  - Dá»±a vÃ o báº£ng trang, tÃ¬m Ä‘Æ°á»£c sá»‘ thá»© tá»± khung váº­t lÃ½ (k)
  - Äá»‹a chá»‰ váº­t lÃ½ báº¯t Ä‘áº§u cá»§a khung lÃ  $k âˆ— 2^n$

  - **Äá»‹a chá»‰ váº­t lÃ½ cá»§a byte Ä‘Æ°á»£c tham chiáº¿u = Ä‘á»‹a chá»‰ báº¯t Ä‘áº§u cá»§a khung + Äá»‹a chá»‰ lá»‡ch (Ä‘á»™ dá»‹ch)**
- **Nháº­n xÃ©t:** Chá»‰ cáº§n thÃªm sá»‘ khung vÃ o trÆ°á»›c dÃ£y bit biá»ƒu diá»…n Ä‘á»™ lá»‡ch

- QuÃ¡ trÃ¬nh biáº¿n Ä‘á»•i tá»« Ä‘á»‹a chá»‰ logic sang Ä‘á»‹a chá»‰ váº­t lÃ½ Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng pháº§n cá»©ng
- KÃ­ch thÆ°á»›c trang lÃ  lÅ©y thá»«a cá»§a 2, náº±m trong khoáº£ng tá»« 512B Ä‘áº¿n 16MB
- Viá»‡c tÃ¡ch pháº§n p vÃ  o trong Ä‘á»‹a chá»‰ logic Ä‘Æ°á»£c thá»±c hiá»‡n dá»… dÃ ng báº±ng phÃ©p dá»‹ch bit

![anh](./image/120.png)

- **Æ¯u Ä‘iá»ƒm cá»§a phÃ¢n trang:**
  - KhÃ´ng tá»“n táº¡i hiá»‡n tÆ°á»£ng phÃ¢n Ä‘oáº¡n ngoÃ i: PhÃ¢n máº£nh trong khi phÃ¢n trang cÃ³ giÃ¡ trá»‹ trung bÃ¬nh báº±ng ná»­a trang
  - Há»‡ sá»‘ song song cao vÃ  cho phÃ©p sá»­ dá»¥ng chung trang
  - CÆ¡ cháº¿ Ã¡nh xáº¡ Ä‘á»‹a chá»‰ hoÃ n toÃ n trong suá»‘t Ä‘á»‘i vá»›i chÆ°Æ¡ng trÃ¬nh
**NhÆ°á»£c Ä‘iá»ƒm cá»§a phÃ¢n trang:**
  - Tá»“n táº¡i hiá»‡n tÆ°á»£ng phÃ¢n Ä‘oáº¡n trong
    - LuÃ´n xuáº¥t hiá»‡n á»Ÿ trang cuá»‘i cÃ¹ng
    - Giáº£m kÃ­ch thÆ°á»›c trang cho phÃ©p tiáº¿t kiá»‡m MEM?
      - KÃ­ch thÆ°á»›c trang nhá» => sá»‘ lÆ°á»£ng lá»›n, báº£ng trang to, khÃ³ quáº£n lÃ½
      - KhÃ´ng tiá»‡n cho viá»‡c trao Ä‘á»•i vá»›i Ä‘Ä©a do thá»±c hiá»‡n theo tá»«ng khá»‘i lá»›n
  - ÄÃ²i há»i há»— trá»£ cá»§a pháº§n cá»©ng cho chiáº¿n lÆ°á»£c phÃ¢n trang lá»›n
  - Khi chÆ°Æ¡ng trÃ¬nh lá»›n, báº£ng quáº£n lÃ½ trang nhiá»u pháº§n tá»­

### Tá»• chá»©c báº£ng trang

- Má»—i thao tÃ¡c truy cáº­p bá»™ nhá»› Ä‘á»u Ä‘Ã²i há»i truy cáº­p báº£ng phÃ¢n trang => tá»• chá»©c báº£ng phÃ¢n trang sao cho tá»‘c Ä‘á»™ truy cáº­p lÃ  cao nháº¥t

![anh](./image/121.png)

- Sá»­ dá»¥ng táº­p há»£p cÃ¡c thanh ghi lÃ m báº£ng phÃ¢n trang:
  - Tá»‘c Ä‘á»™ truy cáº­p ráº¥t cao
  - Sá»‘ lÆ°á»£ng thanh ghi háº¡n cháº¿ => khÃ´ng Ã¡p dá»¥ng Ä‘Æ°á»£c
- Giá»¯ cÃ¡c báº£ng trang trong MEM:
  - Vá»‹ trÃ­ má»—i báº£ng Ä‘Æ°á»£c trá» bá»Ÿi thanh ghi cÆ¡ sá»Ÿ báº£ng trang PTBR (Page Table Base Register)
  - Thá»i gian Ä‘á»ƒ truy cáº­p báº£ng => sá»­ dá»¥ng bá»™ nhá»› cache tá»‘c Ä‘á»™ cao

- **Báº£ng trang nhiá»u má»©c:**
  - CÃ¡c há»‡ thá»‘ng tÃ­nh toÃ¡n hiá»‡n Ä‘áº¡i cho phÃ©p sá»­ dá»¥ng khÃ´ng gian Ä‘á»‹a chá»‰ logic lá»›n ($ 2^{32} \to 2^{64} $) => Sá»‘ lÆ°á»£ng trang cáº§n quáº£n lÃ½ tÄƒng dáº«n Ä‘áº¿n kÃ­ch thÆ°á»›c báº£ng trang tÄƒng
  - **NguyÃªn táº¯c:** Báº£ng quáº£n lÃ½ trang Ä‘Æ°á»£c phÃ¢n trang
    - Chia báº£ng trang thÃ nh nhá»¯ng pháº§n nhá» hÆ¡n
    - Tá»• chá»©c báº£ng trang nhiá»u má»©c: Khoáº£n má»¥c cá»§a báº£ng má»©c trÃªn chá»‰ tá»›i báº£ng trang khÃ¡c
  - **VÃ­ dá»¥ vá» báº£ng 2 má»©c:**
    - MÃ¡y tÃ­nh cÃ³ khÃ´ng gian Ä‘á»‹a chá»‰ logic lÃ  4GB ($2^{32}$B), kÃ­ch thÆ°á»›c trang nhá»› lÃ  4KB ($2^{12}$B):
      - Sá»‘ thá»© tá»± trang $2^{32} / 2^{12} = 2^{20}$ => m = 20bit
      - Äá»™ dá»‹ch trong trang $2^{12}$ => n = 12bit

  - Báº£ng trang Ä‘Æ°á»£c phÃ¢n trang. Sá»‘ hiá»‡u trang Ä‘Æ°á»£c chia thÃ nh 2 pháº§n:
  - P1: 10 bit cho phÃ©p Ä‘á»‹nh vá»‹ khoáº£n má»¥c trong báº£ng má»©c trÃªn
  - P2: 10 bit Ä‘á»‹nh vá»‹ khoáº£n má»¥c trong báº£ng má»©c dÆ°á»›i
  - O: 12 bit, chá»©a Ä‘á»™ dá»‹ch trong trang
- Äá»‹a chá»‰ truy nháº­p cÃ³ dáº¡ng P1, P2, o

![anh](./image/122.png)


## III. PhÃ¢n Ä‘oáº¡n bá»™ nhá»›

### KhÃ¡i niá»‡m

- ChÆ°Æ¡ng trÃ¬nh thÆ°á»ng Ä‘Æ°á»£c chia thÃ nh nhiá»u pháº§n:
  - Má»™t chÆ°Æ¡ng trÃ¬nh chÃ­nh (main program)
  - Táº­p cÃ¡c chÆ°Æ¡ng trÃ¬nh con
  - CÃ¡c biáº¿n, cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u
- CÃ¡c module, Ä‘á»‘i tÆ°á»£ng trong chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng tÃªn:
  - HÃ m sqrt(), thá»§ tá»¥c printf()...
  - x, y, counter, Buffer...
- CÃ¡c pháº§n tá»­ trong module Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh theo Ä‘á»™ lá»‡ch vá»›i vá»‹ trÃ­ Ä‘áº§u:
  - CÃ¢u lá»‡nh thá»© 5 cá»§a hÃ m sqrt()...
  - Pháº§n tá»­ thá»© 12 cá»§a máº£ng Buffer...

- Khi phÃ¢n trang, chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c chia thÃ nh cÃ¡c `trang` cÃ³ kÃ­ch thÆ°á»›c Ä‘á»u nhau, khÃ´ng quan tÃ¢m tá»›i tá»• chá»©c logic vÃ  Ã½ nghÄ©a cá»§a tá»«ng thÃ nh pháº§n.
- Má»™t cÃ¡ch tá»• chá»©c khÃ¡c, cho phÃ©p chia chÆ°Æ¡ng trÃ¬nh thÃ nh cÃ¡c `Ä‘oáº¡n` theo cáº¥u trÃºc logic
  - Äoáº¡n chÆ°Æ¡ng trÃ¬nh - Äoáº¡n mÃ£: chá»©a toÃ n bá»™ mÃ£ chÆ°Æ¡ng trÃ¬nh, má»™t sá»‘ hÃ m hoáº·c thá»§ tá»¥c cá»§a chÆ°Æ¡ng trÃ¬nh.
  - Äoáº¡n dá»¯ liá»‡u: chá»©a cÃ¡c biáº¿n toÃ n cá»¥c, cÃ¡c máº£ng.
  - Äoáº¡n ngÄƒn xáº¿p: chá»©a ngÄƒn xáº¿p cá»§a tiáº¿n trÃ¬nh
- Má»—i Ä‘oáº¡n chiáº¿m má»™t vÃ¹ng liÃªn tá»¥c
  - CÃ³ vá»‹ trÃ­ báº¯t Ä‘áº§u vÃ  kÃ­ch thÆ°á»›c
  - CÃ³ thá»ƒ náº±m táº¡i báº¥t cá»© Ä‘Ã¢u trong bá»™ nhá»›
- Äá»‘i tÆ°á»£ng, pháº§n tá»­ trong tá»«ng Ä‘oáº¡n Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi vá»‹ trÃ­ tÆ°Æ¡ng Ä‘á»‘i so vá»›i Ä‘áº§u Ä‘oáº¡n

- VÃ­ dá»¥ vá» phÃ¢n Ä‘oáº¡n bá»™ nhá»›:

![anh](./image/147.png)


![anh](./image/148.png)


![anh](./image/149.png)


![anh](./image/150.png)


- So sÃ¡nh vá»›i phÃ¢n chÆ°Æ¡ng Ä‘á»™ng:
  - Giá»‘ng: bá»™ nhá»› Ä‘Æ°á»£c cáº¥p phÃ¡t theo tá»«ng vÃ¹ng kÃ­ch thÆ°á»›c thay Ä‘á»•i
  - KhÃ¡c: chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ chiáº¿m nhiá»u hÆ¡n 1 Ä‘oáº¡n vÃ  khÃ´ng cáº§n liÃªn tiáº¿p nhau trong MEM
- Æ¯u Ä‘iá»ƒm:
  - TrÃ¡nh hiá»‡n tÆ°á»£ng phÃ¢n máº£nh trong, dá»… sáº¯p xáº¿p bá»™ nhá»›
  - Dá»… chia sáº» cÃ¡c Ä‘oáº¡n giá»¯a cÃ¡c tiáº¿n trÃ¬nh khÃ¡c nhau

![anh](./image/151.png)

  - KÃ­ch thÆ°á»›c má»—i Ä‘oáº¡n cÃ³ thá»ƒ thay Ä‘á»•i khÃ´ng áº£nh hÆ°á»Ÿng Ä‘oáº¡n khÃ¡c

- NhÆ°á»£c Ä‘iá»ƒm:
  - CÃ³ phÃ¢n máº£nh ngoÃ i 

### Ãnh xáº¡ Ä‘á»‹a chá»‰

- Sá»­ dá»¥ng `báº£ng Ä‘oáº¡n` (SCB: Segement Control Block) cho má»—i tiáº¿n trÃ¬nh. Má»—i pháº§n tá»­ cá»§a báº£ng tÆ°Æ¡ng á»©ng vá»›i 1 Ä‘oáº¡n, chá»©a:

![anh](./image/152.png)

  - Dáº¥u hiá»‡u **(Mark (0/1))**: Äoáº¡n Ä‘Ã£ tá»“n táº¡i trong bá»™ nhá»›
  - Äá»‹a chá»‰ cÆ¡ sá»Ÿ (**Address**): Vá»‹ trÃ­ báº¯t Ä‘áº§u cá»§a Ä‘oáº¡n trong bá»™ nhá»›
  - Äá»™ dÃ i Ä‘oáº¡n (**Length**): Sá»­ dá»¥ng Ä‘á»ƒ chá»‘ng truy cáº­p trÃ¡i phÃ©p ngoÃ i
  Ä‘oáº¡n

- Äá»‹a chá»‰ logic gá»“m 2 thÃ nh pháº§n (s, o):
  - s: sá»‘ thá»© tá»±, tÃªn Ä‘oáº¡n
  - o: Ä‘á»™ dá»‹ch trong Ä‘oáº¡n
  
- Äá»‹a chá»‰ truy nháº­p: <TÃªn (sá»‘ stt) Ä‘oáº¡n, Äá»™ dá»‹ch trong Ä‘oáº¡n>

![anh](./image/153.png)

- Tá»« chá»‰ sá»‘ Ä‘oáº¡n s, vÃ o báº£ng Ä‘oáº¡n, tÃ¬m Ä‘á»‹a chá»‰ váº­t lÃ½ báº¯t Ä‘áº§u cá»§a Ä‘oáº¡n
- So sÃ¡nh Ä‘á»™ dá»‹ch o vá»›i chiá»u dÃ i Ä‘oáº¡n, náº¿u lá»›n hÆ¡n => Äá»‹a chá»‰ sai - Lá»—i truy cáº­p
- Äá»‹a chá»‰ váº­t lÃ½ mong muá»‘n lÃ  tá»•ng cá»§a Ä‘á»‹a chá»‰ váº­t lÃ½ báº¯t Ä‘áº§u Ä‘oáº¡n vÃ  Ä‘á»‹a chá»‰ lá»‡ch

![anh](./image/154.png)

![anh](./image/155.png)

![anh](./image/156.png)

![anh](./image/157.png)

![anh](./image/158.png)

![anh](./image/159.png)

![anh](./image/160.png)

![anh](./image/161.png)

![anh](./image/162.png)

![anh](./image/163.png)

![anh](./image/164.png)

![anh](./image/165.png)

![anh](./image/166.png)

![anh](./image/167.png)

> Coming Soon....